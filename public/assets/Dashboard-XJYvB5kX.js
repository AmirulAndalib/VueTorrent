import{g as $,K as Ce,a0 as ve,c as I,a3 as u,a8 as f,m as n,a5 as d,ab as h,u as s,ao as qe,Z as p,F as G,n as R,a4 as P,aa as U,d as M,r as ze,N as Se,x as je,W as L,Y as Z,ap as ke,D as _e,$ as Xe,a2 as Fe,a9 as z,S as Oe,a7 as ne,O as De,Q as Me,aq as mt,ar as pt,w as vt,q as ht,A as Pe}from"./vue-7zd71vkt.js";import{u as W,a as ft,b as le,S as v,V as Ie,c as X,d as _t,e as bt,f as Ve,g as he,h as Q,i as O,D as q,j as Ae,k as We,l as fe,m as Ne,n as Re,o as be,p as Ue,q as xe,r as se,s as Ge,t as Ee,v as gt,w as Le,x as ye,y as Ze,z as Tt,C as Qe,A as N,B as $e,_ as J,E as yt,F as kt,G as Je,H as et,I as $t,J as Ct,K as V,L as tt,M as St,T as F,N as Dt,O as It,R as Vt,P as He,Q as Be,U as Et}from"./index-AgNZTcBi.js";import{d as wt}from"./index-R3bmzi9M.js";import{_ as Ke,a as Pt}from"./dayjs-J9S4h6Hr.js";import{d as ie}from"./dayjs.min-cr8_29QK.js";import{Z as ot}from"./vuetify-10uagJf8.js";import{u as At}from"./ArrayPagination-xwTQ8m_V.js";const Lt={class:"d-flex my-3"},Bt={class:"pa-0"},Ot={class:"d-flex align-center text-uppercase text-select",style:{"font-size":"0.8em"}},Mt=$({__name:"Toolbar",setup(_){const{t:e}=Ce(),r=W(),{torrentCountString:t,isSelectionMultiple:c,displayMode:o}=ve(r),{isDrawerOpen:a}=ve(ft()),l=le(),{sortOptions:m}=ve(l),i=[{value:v.ADDED_ON,title:e("dashboard.sortBy.added_on")},{value:v.AMOUNT_LEFT,title:e("dashboard.sortBy.amount_left")},{value:v.AUTO_TMM,title:e("dashboard.sortBy.auto_tmm")},{value:v.AVAILABILITY,title:e("dashboard.sortBy.availability")},{value:v.AVG_DOWNLOAD_SPEED,title:e("dashboard.sortBy.avg_download_speed")},{value:v.AVG_UPLOAD_SPEED,title:e("dashboard.sortBy.avg_upload_speed")},{value:v.CATEGORY,title:e("dashboard.sortBy.category")},{value:v.COMPLETED,title:e("dashboard.sortBy.completed")},{value:v.COMPLETION_ON,title:e("dashboard.sortBy.completion_on")},{value:v.CONTENT_PATH,title:e("dashboard.sortBy.content_path")},{value:v.DL_LIMIT,title:e("dashboard.sortBy.dl_limit")},{value:v.DLSPEED,title:e("dashboard.sortBy.dlspeed")},{value:v.DOWNLOAD_PATH,title:e("dashboard.sortBy.download_path")},{value:v.DOWNLOADED,title:e("dashboard.sortBy.downloaded")},{value:v.DOWNLOADED_SESSION,title:e("dashboard.sortBy.downloaded_session")},{value:v.ETA,title:e("dashboard.sortBy.eta")},{value:v.F_L_PIECE_PRIO,title:e("dashboard.sortBy.f_l_piece_prio")},{value:v.FORCE_START,title:e("dashboard.sortBy.force_start")},{value:v.GLOBALSPEED,title:e("dashboard.sortBy.globalSpeed")},{value:v.GLOBALVOLUME,title:e("dashboard.sortBy.globalVolume")},{value:v.HASH,title:e("dashboard.sortBy.hash")},{value:v.INFOHASH_V1,title:e("dashboard.sortBy.infohash_v1")},{value:v.INFOHASH_V2,title:e("dashboard.sortBy.infohash_v2")},{value:v.LAST_ACTIVITY,title:e("dashboard.sortBy.last_activity")},{value:v.MAGNET_URI,title:e("dashboard.sortBy.magnet_uri")},{value:v.MAX_RATIO,title:e("dashboard.sortBy.max_ratio")},{value:v.MAX_SEEDING_TIME,title:e("dashboard.sortBy.max_seeding_time")},{value:v.NAME,title:e("dashboard.sortBy.name")},{value:v.NUM_COMPLETE,title:e("dashboard.sortBy.num_complete")},{value:v.NUM_INCOMPLETE,title:e("dashboard.sortBy.num_incomplete")},{value:v.NUM_LEECHS,title:e("dashboard.sortBy.num_leechs")},{value:v.NUM_SEEDS,title:e("dashboard.sortBy.num_seeds")},{value:v.PRIORITY,title:e("dashboard.sortBy.priority")},{value:v.PROGRESS,title:e("dashboard.sortBy.progress")},{value:v.RATIO,title:e("dashboard.sortBy.ratio")},{value:v.RATIO_LIMIT,title:e("dashboard.sortBy.ratio_limit")},{value:v.SAVE_PATH,title:e("dashboard.sortBy.save_path")},{value:v.SEEDING_TIME,title:e("dashboard.sortBy.seeding_time")},{value:v.SEEDING_TIME_LIMIT,title:e("dashboard.sortBy.seeding_time_limit")},{value:v.SEEN_COMPLETE,title:e("dashboard.sortBy.seen_complete")},{value:v.SEQ_DL,title:e("dashboard.sortBy.seq_dl")},{value:v.SIZE,title:e("dashboard.sortBy.size")},{value:v.STATE,title:e("dashboard.sortBy.state")},{value:v.SUPER_SEEDING,title:e("dashboard.sortBy.super_seeding")},{value:v.TAGS,title:e("dashboard.sortBy.tags")},{value:v.TIME_ACTIVE,title:e("dashboard.sortBy.time_active")},{value:v.TOTAL_SIZE,title:e("dashboard.sortBy.total_size")},{value:v.TRACKER,title:e("dashboard.sortBy.tracker")},{value:v.TRACKERS_COUNT,title:e("dashboard.sortBy.trackers_count")},{value:v.UP_LIMIT,title:e("dashboard.sortBy.up_limit")},{value:v.UPLOADED,title:e("dashboard.sortBy.uploaded")},{value:v.UPLOADED_SESSION,title:e("dashboard.sortBy.uploaded_session")},{value:v.UPSPEED,title:e("dashboard.sortBy.upspeed")}].sort((w,T)=>w.title.localeCompare(T.title));i.splice(0,0,{value:v.DEFAULT,title:e("dashboard.sortBy.default")});function E(){l.textFilter=""}const g=I({get:()=>l.textFilter,set:wt(w=>{l.textFilter=w??""},300)});function B(){c.value&&r.unselectAllTorrents(),c.value=!c.value}return(w,T)=>(u(),f(G,null,[n(Ie,null,{default:d(()=>[n(he,{cols:"12"},{default:d(()=>[n(Q,{id:"searchInput",modelValue:g.value,"onUpdate:modelValue":T[0]||(T[0]=C=>g.value=C),label:s(e)("dashboard.searchInputLabel"),clearable:"",density:"compact","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",variant:"solo","onClick:clear":T[1]||(T[1]=C=>E())},null,8,["modelValue","label"])]),_:1})]),_:1}),h("div",Lt,[n(X,{text:s(e)("dashboard.toggleSelectMode"),location:"top"},{activator:d(({props:C})=>[n(O,R({icon:s(c)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"},C,{variant:"plain",onClick:B}),null,16,["icon"])]),_:1},8,["text"]),n(_t,null,{activator:d(({props:C})=>[n(X,{text:w.$t("dashboard.displayMode.title"),location:"top"},{activator:d(({props:S})=>[n(O,R({icon:""},R(C,S),{variant:"plain"}),{default:d(()=>[s(o)===s(q).LIST?(u(),P(Ae,{key:0,icon:"mdi-view-list"})):U("",!0),s(o)===s(q).GRID?(u(),P(Ae,{key:1,icon:"mdi-view-grid"})):U("",!0),s(o)===s(q).TABLE?(u(),P(Ae,{key:2,icon:"mdi-table"})):U("",!0)]),_:2},1040)]),_:2},1032,["text"])]),default:d(()=>[n(We,null,{default:d(()=>[n(fe,{title:w.$t("dashboard.displayMode.list"),"prepend-icon":"mdi-view-list",onClick:T[2]||(T[2]=C=>o.value=s(q).LIST)},null,8,["title"]),n(fe,{title:w.$t("dashboard.displayMode.grid"),"prepend-icon":"mdi-view-grid",onClick:T[3]||(T[3]=C=>o.value=s(q).GRID)},null,8,["title"]),n(fe,{title:w.$t("dashboard.displayMode.table"),"prepend-icon":"mdi-table",onClick:T[4]||(T[4]=C=>o.value=s(q).TABLE)},null,8,["title"])]),_:1})]),_:1}),n(X,{text:s(e)("dashboard.toggleSortOrder"),location:"top"},{activator:d(({props:C})=>[n(O,R({icon:s(m).reverseOrder?"mdi-arrow-up-thin":"mdi-arrow-down-thin"},C,{variant:"plain",onClick:T[5]||(T[5]=S=>s(m).reverseOrder=!s(m).reverseOrder)}),null,16,["icon"])]),_:1},8,["text"]),h("div",Bt,[n(bt,{modelValue:s(m).sortBy,"onUpdate:modelValue":T[6]||(T[6]=C=>s(m).sortBy=C),items:s(i),label:s(e)("dashboard.sortLabel"),"auto-select-first":"",density:"compact","hide-details":"",variant:"solo-filled",style:qe(`width: ${w.$vuetify.display.xs||w.$vuetify.display.sm&&s(a)?140:260}px`)},null,8,["modelValue","items","label","style"])]),n(Ve),h("div",Ot,p(s(t)),1)])],64))}}),Nt=$({__name:"RenameTorrentDialog",props:{guid:{},hash:{}},setup(_){const e=_,{isOpened:r}=Ne(e.guid),{t}=Ce(),c=le(),o=M(),a=M(),l=M(!1),m=ze({newName:""}),i=[T=>!!T||t("dialogs.renameTorrent.required"),T=>T!==g.value||t("dialogs.renameTorrent.sameName")],E=I(()=>c.getTorrentByHash(e.hash)),g=I(()=>E.value?.name);async function B(){await a.value?.validate(),l.value&&(await c.renameTorrent(e.hash,m.newName),w())}const w=()=>{r.value=!1};return Se(()=>{m.newName=E.value?.name||""}),je(()=>{o.value?.select()}),(T,C)=>(u(),P(Ge,{modelValue:s(r),"onUpdate:modelValue":C[3]||(C[3]=S=>_e(r)?r.value=S:null)},{default:d(()=>[n(se,null,{default:d(()=>[n(Re,null,{default:d(()=>[L(p(T.$t("dialogs.renameTorrent.title")),1)]),_:1}),n(be,null,{default:d(()=>[n(s(Ue),{modelValue:l.value,"onUpdate:modelValue":C[1]||(C[1]=S=>l.value=S),ref_key:"form",ref:a,onSubmit:C[2]||(C[2]=Z(()=>{},["prevent"]))},{default:d(()=>[g.value?(u(),P(Q,{key:0,"model-value":g.value,disabled:"",label:T.$t("dialogs.renameTorrent.oldName")},null,8,["model-value","label"])):U("",!0),n(Q,{modelValue:m.newName,"onUpdate:modelValue":C[0]||(C[0]=S=>m.newName=S),ref_key:"field",ref:o,rules:i,autofocus:"",label:T.$t("dialogs.renameTorrent.newName"),onKeydown:ke(B,["enter"])},null,8,["modelValue","label"])]),_:1},8,["modelValue"])]),_:1}),n(xe,null,{default:d(()=>[n(Ve),n(O,{color:"error",onClick:w},{default:d(()=>[L(p(T.$t("common.cancel")),1)]),_:1}),n(O,{color:"accent",disabled:!l.value,onClick:B},{default:d(()=>[L(p(T.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),re=-2,Y=-1,Rt=$({__name:"ShareLimitDialog",props:{guid:{},hashes:{}},setup(_){const e=_,{isOpened:r}=Ne(e.guid),t=Ee(),c=le(),o=M(!1),a=M("global"),l=M(!1),m=M(0),i=M(!1),E=M(0),g=M(!1),B=M(0),w=I(()=>a.value!=="enabled");function T(){r.value=!1}async function C(){switch(a.value){case"global":await t.setShareLimit(e.hashes,re,re,re);break;case"disabled":await t.setShareLimit(e.hashes,Y,Y,Y);break;case"enabled":await t.setShareLimit(e.hashes,l.value?m.value:Y,i.value?E.value:Y,g.value?B.value:Y);break}T()}return Se(async()=>{const S=c.getTorrentByHash(e.hashes[0]);if(!S)return T();const y=S.ratio_limit,D=S.seeding_time_limit,H=S.inactive_seeding_time_limit;y===re&&D===re&&H===re?a.value="global":y===Y&&D===Y&&H===Y?a.value="disabled":(a.value="enabled",l.value=y>=0,m.value=l.value?y:0,i.value=D>=0,E.value=i.value?D:0,g.value=H>=0,B.value=g.value?H:0)}),(S,y)=>(u(),P(Ge,{modelValue:s(r),"onUpdate:modelValue":y[9]||(y[9]=D=>_e(r)?r.value=D:null),"max-width":"500"},{default:d(()=>[n(se,{title:S.$t("dialogs.share_limit.title")},{default:d(()=>[n(be,null,{default:d(()=>[n(Ue,{modelValue:o.value,"onUpdate:modelValue":y[7]||(y[7]=D=>o.value=D),onSubmit:y[8]||(y[8]=Z(()=>{},["prevent"])),onKeydown:ke(Z(C,["prevent"]),["enter"])},{default:d(()=>[n(gt,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=D=>a.value=D)},{default:d(()=>[n(Le,{label:S.$t("dialogs.share_limit.global"),value:"global"},null,8,["label"]),n(Le,{label:S.$t("dialogs.share_limit.disabled"),value:"disabled"},null,8,["label"]),n(Le,{label:S.$t("dialogs.share_limit.enabled"),value:"enabled"},null,8,["label"])]),_:1},8,["modelValue"]),n(Ie,null,{default:d(()=>[n(he,{cols:"12",class:"d-flex align-center"},{default:d(()=>[h("span",null,[n(ye,{modelValue:l.value,"onUpdate:modelValue":y[1]||(y[1]=D=>l.value=D),disabled:w.value},null,8,["modelValue","disabled"])]),n(Q,{modelValue:m.value,"onUpdate:modelValue":y[2]||(y[2]=D=>m.value=D),disabled:w.value||!l.value,density:"compact","hide-details":"",label:S.$t("dialogs.share_limit.ratio_limit")},null,8,["modelValue","disabled","label"])]),_:1}),n(he,{cols:"12",class:"d-flex align-center"},{default:d(()=>[h("span",null,[n(ye,{modelValue:i.value,"onUpdate:modelValue":y[3]||(y[3]=D=>i.value=D),disabled:w.value},null,8,["modelValue","disabled"])]),n(Q,{modelValue:E.value,"onUpdate:modelValue":y[4]||(y[4]=D=>E.value=D),disabled:w.value||!i.value,density:"compact","hide-details":"",label:S.$t("dialogs.share_limit.seeding_time_limit")},null,8,["modelValue","disabled","label"])]),_:1}),n(he,{cols:"12",class:"d-flex align-center"},{default:d(()=>[h("span",null,[n(ye,{modelValue:g.value,"onUpdate:modelValue":y[5]||(y[5]=D=>g.value=D),disabled:w.value},null,8,["modelValue","disabled"])]),n(Q,{modelValue:B.value,"onUpdate:modelValue":y[6]||(y[6]=D=>B.value=D),disabled:w.value||!g.value,density:"compact","hide-details":"",label:S.$t("dialogs.share_limit.inactive_seeding_time_limit")},null,8,["modelValue","disabled","label"])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"])]),_:1}),n(xe,null,{default:d(()=>[n(Ve),n(O,{color:"error",onClick:T},{default:d(()=>[L(p(S.$t("common.cancel")),1)]),_:1}),n(O,{color:"accent",disabled:!o.value,onClick:C},{default:d(()=>[L(p(S.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]))}}),Ye=$({__name:"SpeedLimitDialog",props:{guid:{},hashes:{},mode:{}},setup(_){const e=_,{isOpened:r}=Ne(e.guid),t=Ee(),c=le(),o=M(!1),a=M(0);function l(){r.value=!1}async function m(){const i=Math.max(0,a.value)*1e3;switch(e.mode){case"download":await t.setDownloadLimit(i,e.hashes);break;case"upload":await t.setUploadLimit(i,e.hashes);break}l()}return Se(async()=>{const i=c.getTorrentByHash(e.hashes[0]);if(!i)return l();switch(e.mode){case"download":a.value=Math.max(0,Math.round(i.dl_limit/1e3));break;case"upload":a.value=Math.max(0,Math.round(i.up_limit/1e3));break}}),(i,E)=>(u(),P(Ge,{modelValue:s(r),"onUpdate:modelValue":E[3]||(E[3]=g=>_e(r)?r.value=g:null)},{default:d(()=>[n(se,{title:i.$t(`dialogs.speed_limit.${i.mode}`)},{default:d(()=>[n(be,null,{default:d(()=>[n(Ue,{modelValue:o.value,"onUpdate:modelValue":E[1]||(E[1]=g=>o.value=g),onSubmit:E[2]||(E[2]=Z(()=>{},["prevent"])),onKeydown:ke(Z(m,["prevent"]),["enter"])},{default:d(()=>[n(Q,{modelValue:a.value,"onUpdate:modelValue":E[0]||(E[0]=g=>a.value=g),type:"number",autofocus:"",clearable:"",label:i.$t("dialogs.speed_limit.label"),"prepend-inner-icon":"mdi-speedometer",suffix:"kB/s",onKeydown:ke(Z(m,["prevent"]),["enter"])},null,8,["modelValue","label","onKeydown"])]),_:1},8,["modelValue","onKeydown"])]),_:1}),n(xe,null,{default:d(()=>[n(Ve),n(O,{color:"error",onClick:l},{default:d(()=>[L(p(i.$t("common.cancel")),1)]),_:1}),n(O,{color:"accent",disabled:!o.value,onClick:m},{default:d(()=>[L(p(i.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]))}}),Ut={class:"d-flex justify-space-around"},xt=$({__name:"RightClick",props:{rightClickProperties:{}},setup(_){const{t:e}=Ce(),r=Xe(),t=W(),c=Ze(),o=Ee(),a=Tt(),l=le(),m=I(()=>t.selectedTorrents.length>1),i=I(()=>t.selectedTorrents),E=I(()=>i.value[0]),g=I(()=>l.getTorrentByHash(E.value)),B=I(()=>t.selectedTorrents.map(l.getTorrentByHash).filter(b=>!!b)),w=I(()=>[{name:""},...o.categories]);async function T(){await l.resumeTorrents(i)}async function C(){await l.forceResumeTorrents(i)}async function S(){await l.pauseTorrents(i)}function y(){c.createDialog(Qe,{hashes:[...t.selectedTorrents]})}function D(){c.createDialog(Ke,{hashes:[...t.selectedTorrents],mode:"dl"})}function H(){c.createDialog(Ke,{hashes:[...t.selectedTorrents],mode:"save"})}function j(){c.createDialog(Nt,{hash:t.selectedTorrents[0]})}async function de(){await l.recheckTorrents(i)}async function ge(){await o.reannounceTorrents(i)}async function we(){await o.toggleSeqDl(i)}async function ue(){await o.toggleFLPiecePrio(i)}async function ce(){await o.toggleAutoTmm(i,!g.value?.auto_tmm)}function ee(b){return B.value.every(K=>K&&K.tags&&K.tags.includes(b))}async function te(b){ee(b)?await l.removeTorrentTags(i.value,[b]):await l.addTorrentTags(i.value,[b])}async function oe(b){try{await navigator.clipboard.writeText(b)}catch{Fe.error(e("toast.copy.error"));return}Fe.success(e("toast.copy.success"))}function me(){c.createDialog(Ye,{hashes:i.value,mode:"download"})}function pe(){c.createDialog(Ye,{hashes:i.value,mode:"upload"})}function Te(){c.createDialog(Rt,{hashes:i.value})}async function k(){i.value.forEach(b=>{l.exportTorrent(b).then(K=>{const x=window.URL.createObjectURL(K),ae=document.createElement("a");ae.href=x,ae.style.opacity="0",ae.setAttribute("download",`${b}.torrent`),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)})})}const A=I(()=>[{text:e("dashboard.right_click.advanced.title"),icon:"mdi-head-cog",children:[{text:e("dashboard.right_click.advanced.download_path"),icon:"mdi-tray-arrow-down",action:D},{text:e("dashboard.right_click.advanced.save_path"),icon:"mdi-content-save",action:H},{text:e("dashboard.right_click.advanced.rename"),icon:"mdi-rename-box",hidden:m.value,action:j},{text:e("dashboard.right_click.advanced.recheck"),icon:"mdi-playlist-check",action:de},{text:e("dashboard.right_click.advanced.reannounce"),icon:"mdi-bullhorn",action:ge},{text:e("dashboard.right_click.advanced.seq_dl"),icon:g.value?.seq_dl?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:we},{text:e("dashboard.right_click.advanced.f_l_prio"),icon:g.value?.f_l_piece_prio?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:ue},{text:e("dashboard.right_click.advanced.auto_tmm"),icon:g.value?.auto_tmm?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:ce}]},{text:e("dashboard.right_click.priority.title"),icon:"mdi-priority-high",hidden:!a.preferences.queueing_enabled,children:[{text:e("dashboard.right_click.priority.top"),icon:"mdi-priority-high",action:async()=>await l.setTorrentPriority(i.value,"topPrio")},{text:e("dashboard.right_click.priority.increase"),icon:"mdi-arrow-up",action:async()=>await l.setTorrentPriority(i.value,"increasePrio")},{text:e("dashboard.right_click.priority.decrease"),icon:"mdi-arrow-down",action:async()=>await l.setTorrentPriority(i.value,"decreasePrio")},{text:e("dashboard.right_click.priority.bottom"),icon:"mdi-priority-low",action:async()=>await l.setTorrentPriority(i.value,"bottomPrio")}]},{text:e("dashboard.right_click.tags.title"),icon:"mdi-tag",disabled:o.tags.length===0,disabledText:e("dashboard.right_click.tags.disabled_title"),disabledIcon:"mdi-tag-off",children:o.tags.map(b=>({text:b,icon:ee(b)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:async()=>await te(b)}))},{text:e("dashboard.right_click.category.title"),icon:"mdi-label",disabled:o.categories.length===0,disabledText:e("dashboard.right_click.category.disabled_title"),disabledIcon:"mdi-label-off",children:w.value.map(b=>({text:b.name===""?e("dashboard.right_click.category.clear"):b.name,action:async()=>await l.setTorrentCategory(i.value,b.name)}))},{text:e("dashboard.right_click.speed_limit.title"),icon:"mdi-speedometer-slow",children:[{text:e("dashboard.right_click.speed_limit.download"),icon:"mdi-download",action:me},{text:e("dashboard.right_click.speed_limit.upload"),icon:"mdi-upload",action:pe},{text:e("dashboard.right_click.speed_limit.share"),icon:"mdi-account-group",action:Te}]},{text:e("dashboard.right_click.copy.title"),icon:"mdi-content-copy",hidden:m.value,children:[{text:e("dashboard.right_click.copy.name"),icon:"mdi-alphabetical-variant",action:async()=>g.value&&await oe(g.value.name)},{text:e("dashboard.right_click.copy.hash"),icon:"mdi-pound",action:async()=>await oe(E.value)},{text:e("dashboard.right_click.copy.magnet"),icon:"mdi-magnet",action:async()=>g.value&&await oe(g.value.magnet)}]},{text:e("dashboard.right_click.export",t.selectedTorrents.length),icon:m.value?"mdi-download-multiple":"mdi-download",action:k},{text:e("dashboard.right_click.info"),icon:"mdi-information",hidden:m.value,action:()=>r.push({name:"torrentDetail",params:{hash:E.value}})}]);return(b,K)=>(u(),f("div",{style:qe(`position: absolute; left: ${b.rightClickProperties.offset[0]}px; top: ${b.rightClickProperties.offset[1]}px;`)},[n(s(Pt),{modelValue:b.rightClickProperties.isVisible,"onUpdate:modelValue":K[0]||(K[0]=x=>b.rightClickProperties.isVisible=x),"menu-data":A.value},{top:d(()=>[n(fe,null,{default:d(()=>[h("div",Ut,[n(X,{location:"top"},{activator:d(({props:x})=>[n(O,R({density:"compact",variant:"plain",icon:"mdi-play"},x,{onClick:T}),null,16)]),default:d(()=>[h("span",null,p(b.$t("dashboard.right_click.top.resume")),1)]),_:1}),n(X,{location:"top"},{activator:d(({props:x})=>[n(O,R({density:"compact",variant:"plain",icon:"mdi-fast-forward"},x,{onClick:C}),null,16)]),default:d(()=>[h("span",null,p(b.$t("dashboard.right_click.top.force_resume")),1)]),_:1}),n(X,{location:"top"},{activator:d(({props:x})=>[n(O,R({density:"compact",variant:"plain",icon:"mdi-pause"},x,{onClick:S}),null,16)]),default:d(()=>[h("span",null,p(b.$t("dashboard.right_click.top.pause")),1)]),_:1}),n(X,{location:"top"},{activator:d(({props:x})=>[n(O,R({color:"red",density:"compact",variant:"plain",icon:"mdi-delete-forever"},x,{onClick:y}),null,16)]),default:d(()=>[h("span",null,p(b.$t("dashboard.right_click.top.delete")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","menu-data"])],4))}}),Gt={class:"d-flex flex-column"},Ft={class:"text-caption text-grey"},Ht={class:"text-caption text-grey"},at=$({__name:"ItemAmount",props:{torrent:{},title:{},value:{},total:{}},setup(_){return(e,r)=>(u(),f("div",Gt,[h("div",Ft,p(e.$t(`torrent.properties.${e.title}`)),1),h("div",null,[L(p(e.torrent[e.value])+" ",1),h("span",Ht," / "+p(e.torrent[e.total]),1)])]))}}),Kt={key:0,class:"d-flex flex-column"},Yt={class:"text-caption text-grey"},qt={class:"d-flex flex-row gap"},zt=$({__name:"ItemChip",props:{torrent:{},title:{},value:{},color:{}},setup(_){const e=_,r=N(),t=I(()=>{const o=e.torrent[e.value],a=typeof o;if(a==="string")return o.length>0?[o]:[];if(a==="object")return o}),c=I(()=>t.value.length<1);return(o,a)=>s(r).hideChipIfUnset&&c.value?U("",!0):(u(),f("div",Kt,[h("div",Yt,p(o.$t(`torrent.properties.${o.title}`)),1),h("div",qt,[!t.value||c.value?(u(),P($e,{key:0,color:o.color.replace("$1",o.torrent[o.value]),variant:"flat"},{default:d(()=>[L(p(o.$t(`torrent.properties.empty_${o.value}`)),1)]),_:1},8,["color"])):(u(!0),f(G,{key:1},z(t.value,l=>(u(),P($e,{color:o.color.replace("$1",o.torrent.state),variant:"flat"},{default:d(()=>[L(p(l),1)]),_:2},1032,["color"]))),256))])]))}}),rt=J(zt,[["__scopeId","data-v-08ef66f1"]]),jt={class:"d-flex flex-column"},Xt={class:"text-caption text-grey"},Wt={class:"text-caption text-grey"},nt=$({__name:"ItemData",props:{torrent:{},title:{},value:{}},setup(_){const e=N();return(r,t)=>(u(),f("div",jt,[h("div",Xt,p(r.$t(`torrent.properties.${r.title}`)),1),h("div",null,[L(p(s(yt)(r.torrent[r.value],s(e).useBinarySize))+" ",1),h("span",Wt,p(s(kt)(r.torrent[r.value],s(e).useBinarySize)),1)])]))}}),Zt={class:"d-flex flex-column"},Qt={class:"text-caption text-grey"},Jt={key:0},eo={key:1},lt=$({__name:"ItemDateTime",props:{torrent:{},title:{},value:{}},setup(_){const e=N();return(r,t)=>(u(),f("div",Zt,[h("div",Qt,p(r.$t(`torrent.properties.${r.title}`)),1),h("div",null,[r.torrent[r.value]>0?(u(),f("span",Jt,p(s(ie)(r.torrent[r.value]*1e3).format(s(e).dateFormat??"DD/MM/YYYY, HH:mm:ss")),1)):(u(),f("span",eo,p(r.$t("dashboard.not_complete")),1))])]))}}),to={class:"d-flex flex-column"},oo={class:"text-caption text-grey"},ao={key:0},ro={key:1},st=$({__name:"ItemDuration",props:{torrent:{},title:{},value:{}},setup(_){const e=_,r=I(()=>{const t=ie.duration(e.torrent[e.value],"seconds"),c=[t.years(),t.months(),t.days(),t.hours(),t.minutes(),t.seconds()],o=["Y","M","d","h","m","s"];let a=!1;return c.map((l,m)=>{if(a||l)return a=!0,`${l}${o[m]}`}).filter(l=>l).join(" ")});return(t,c)=>(u(),f("div",to,[h("div",oo,p(t.$t(`torrent.properties.${t.title}`)),1),h("div",null,[t.torrent[t.value]>0?(u(),f("span",ao,p(r.value),1)):(u(),f("span",ro,p(t.$t("dashboard.not_complete")),1))])]))}}),no={class:"d-flex flex-column"},lo={class:"text-caption text-grey"},it=$({__name:"ItemPercent",props:{torrent:{},title:{},value:{}},setup(_){return(e,r)=>(u(),f("div",no,[h("div",lo,p(e.$t(`torrent.properties.${e.title}`)),1),n(et,{"model-value":e.torrent[e.value],max:1,height:20,color:`torrent-${e.torrent.state}`,rounded:"sm",style:{width:"10em"}},{default:d(()=>[L(p(s(Je)(e.torrent[e.value])),1)]),_:1},8,["model-value","color"])]))}}),so={class:"d-flex flex-column"},io={class:"text-caption text-grey"},dt=$({__name:"ItemRelativeTime",props:{torrent:{},title:{},value:{}},setup(_){return(e,r)=>(u(),f("div",so,[h("div",io,p(e.$t(`torrent.properties.${e.title}`)),1),h("div",null,[h("span",null,p(s(ie)(e.torrent[e.value]*1e3).fromNow()),1)])]))}}),uo={class:"d-flex flex-column"},co={class:"text-caption text-grey"},mo={class:"text-caption text-grey"},ut=$({__name:"ItemSpeed",props:{torrent:{},title:{},value:{}},setup(_){const e=N();return(r,t)=>(u(),f("div",uo,[h("div",co,p(r.$t(`torrent.properties.${r.title}`)),1),h("div",null,[L(p(s($t)(r.torrent[r.value],s(e).useBitSpeed))+" ",1),h("span",mo,p(s(Ct)(r.torrent[r.value],s(e).useBitSpeed)),1)])]))}}),po={class:"d-flex flex-column"},vo={class:"text-caption text-grey"},ct=$({__name:"ItemText",props:{torrent:{},title:{},value:{}},setup(_){return(e,r)=>(u(),f("div",po,[h("div",vo,p(e.$t(`torrent.properties.${e.title}`)),1),h("div",null,p(e.torrent[e.value]),1)]))}}),ho={class:"d-flex gap flex-wrap"},fo=$({__name:"GridTorrent",props:{torrent:{}},emits:["onTorrentClick"],setup(_){const e=_,r=W(),t=N(),c=I(()=>(e.torrent.progress===1?t.doneGridProperties:t.busyGridProperties).filter(m=>m.active).sort((m,i)=>m.order-i.order)),o=l=>{switch(l){case V.AMOUNT:return at;case V.CHIP:return rt;case V.DATA:return nt;case V.DATETIME:return lt;case V.DURATION:return st;case V.PERCENT:return it;case V.RELATIVE:return dt;case V.SPEED:return ut;case V.TEXT:default:return ct}},a=I(()=>r.isTorrentInSelection(e.torrent.hash));return(l,m)=>(u(),P(se,{class:ne(`sideborder ${l.torrent.state} pointer`),height:"100%",color:a.value?`torrent-${l.torrent.state}-darken-3`:void 0,onClick:m[0]||(m[0]=i=>l.$emit("onTorrentClick",i,l.torrent))},{default:d(()=>[n(Re,{class:"text-wrap text-subtitle-1 pt-1 pb-0"},{default:d(()=>[L(p(l.torrent.name),1)]),_:1}),n(be,null,{default:d(()=>[h("div",ho,[(u(!0),f(G,null,z(c.value,i=>(u(),P(Oe(o(i.type)),R({torrent:l.torrent},i.props),null,16,["torrent"]))),256))])]),_:1})]),_:1},8,["class","color"]))}}),_o=J(fo,[["__scopeId","data-v-4ea6ef97"]]),bo={class:"d-flex align-center",style:{height:"100%",width:"100%"}},go=$({__name:"GridView",props:{paginatedTorrents:{}},emits:["onCheckboxClick","onTorrentClick","onTorrentDblClick","onTorrentRightClick","startPress","endPress"],setup(_){const e=ot(),r=W();return(t,c)=>(u(),P(Ie,{id:"torrentList"},{default:d(()=>[(u(!0),f(G,null,z(t.paginatedTorrents,o=>(u(),P(he,{cols:"12",lg:"3",md:"4",sm:"6",xl:"2",class:ne([s(e).mobile?"pb-2":"pb-4","pt-0"]),onContextmenu:a=>t.$emit("onTorrentRightClick",a,o),onTouchcancel:c[1]||(c[1]=a=>t.$emit("endPress")),onTouchend:c[2]||(c[2]=a=>t.$emit("endPress")),onTouchmove:c[3]||(c[3]=a=>t.$emit("endPress")),onTouchstart:a=>t.$emit("startPress",a.touches.item(0),o),onDblclick:a=>t.$emit("onTorrentDblClick",o)},{default:d(()=>[h("div",bo,[n(tt,null,{default:d(()=>[De(n(O,{color:`torrent-${o.state}`,icon:s(r).isTorrentInSelection(o.hash)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",class:"mr-2",variant:"text",onClick:a=>t.$emit("onCheckboxClick",o)},null,8,["color","icon","onClick"]),[[Me,s(r).isSelectionMultiple]])]),_:2},1024),n(_o,{torrent:o,onOnTorrentClick:c[0]||(c[0]=(a,l)=>t.$emit("onTorrentClick",a,l))},null,8,["torrent"])])]),_:2},1032,["class","onContextmenu","onTouchstart","onDblclick"]))),256))]),_:1}))}}),To=J(go,[["__scopeId","data-v-8292d1aa"]]),yo={class:"d-flex gap flex-wrap"},ko=$({__name:"ListTorrent",props:{torrent:{}},emits:["onTorrentClick"],setup(_){const e=_,r=W(),t=N(),c=I(()=>(e.torrent.progress===1?t.doneTorrentProperties:t.busyTorrentProperties).filter(m=>m.active).sort((m,i)=>m.order-i.order)),o=l=>{switch(l){case V.AMOUNT:return at;case V.CHIP:return rt;case V.DATA:return nt;case V.DATETIME:return lt;case V.DURATION:return st;case V.PERCENT:return it;case V.RELATIVE:return dt;case V.SPEED:return ut;case V.TEXT:default:return ct}},a=I(()=>r.isTorrentInSelection(e.torrent.hash));return(l,m)=>(u(),P(se,{class:ne(`sideborder ${l.torrent.state} pointer`),width:"100%",color:a.value?`torrent-${l.torrent.state}-darken-3`:void 0,onClick:m[0]||(m[0]=i=>l.$emit("onTorrentClick",i,l.torrent))},{default:d(()=>[n(Re,{class:"text-wrap pt-1 pb-0 px-2 text-truncate",style:{"font-size":"0.97em"}},{default:d(()=>[L(p(l.torrent.name),1)]),_:1}),n(be,{class:"pa-2 pt-0"},{default:d(()=>[h("div",yo,[(u(!0),f(G,null,z(c.value,i=>(u(),P(Oe(o(i.type)),R({torrent:l.torrent},i.props),null,16,["torrent"]))),256))])]),_:1})]),_:1},8,["class","color"]))}}),$o=J(ko,[["__scopeId","data-v-74669dd8"]]),Co={class:"d-flex align-center"},So=$({__name:"ListView",props:{paginatedTorrents:{}},emits:["onCheckboxClick","onTorrentClick","onTorrentDblClick","onTorrentRightClick","startPress","endPress"],setup(_){const e=ot(),r=W();return(t,c)=>(u(),P(We,{id:"torrentList",class:"pa-0"},{default:d(()=>[(u(!0),f(G,null,z(t.paginatedTorrents,o=>(u(),P(fe,{id:`torrent-${o.hash}`,class:ne([s(e).mobile?"mb-2":"mb-4","pa-0"]),onContextmenu:a=>t.$emit("onTorrentRightClick",a,o),onTouchcancel:c[1]||(c[1]=a=>t.$emit("endPress")),onTouchend:c[2]||(c[2]=a=>t.$emit("endPress")),onTouchmove:c[3]||(c[3]=a=>t.$emit("endPress")),onTouchstart:a=>t.$emit("startPress",a.touches.item(0),o),onDblclick:a=>t.$emit("onTorrentDblClick",o)},{default:d(()=>[h("div",Co,[n(tt,null,{default:d(()=>[De(n(O,{color:`torrent-${o.state}`,icon:s(r).isTorrentInSelection(o.hash)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",class:"mr-2",variant:"text",onClick:a=>t.$emit("onCheckboxClick",o)},null,8,["color","icon","onClick"]),[[Me,s(r).isSelectionMultiple]])]),_:2},1024),n($o,{torrent:o,onOnTorrentClick:c[0]||(c[0]=(a,l)=>t.$emit("onTorrentClick",a,l))},null,8,["torrent"])])]),_:2},1032,["id","class","onContextmenu","onTouchstart","onDblclick"]))),256))]),_:1}))}}),Do=J(So,[["__scopeId","data-v-2b24c5da"]]),Io=$({__name:"ItemAmount",props:{torrent:{},title:{},value:{},total:{}},setup(_){return(e,r)=>(u(),f("td",null,p(e.torrent[e.value])+" / "+p(e.torrent[e.total]),1))}}),Vo={key:0,class:"d-flex flex-row gap"},Eo=$({__name:"ItemChip",props:{torrent:{},title:{},value:{},color:{}},setup(_){const e=_,r=N(),t=I(()=>{const o=e.torrent[e.value],a=typeof o;if(a==="string")return o.length>0?[o]:[];if(a==="object")return o}),c=I(()=>t.value.length<1);return(o,a)=>(u(),f("td",null,[s(r).hideChipIfUnset&&c.value?U("",!0):(u(),f("div",Vo,[!t.value||c.value?(u(),P($e,{key:0,color:o.color.replace("$1",o.torrent[o.value]),variant:"flat"},{default:d(()=>[L(p(o.$t(`torrent.properties.empty_${o.value}`)),1)]),_:1},8,["color"])):(u(!0),f(G,{key:1},z(t.value,l=>(u(),P($e,{color:o.color.replace("$1",o.torrent.state),variant:"flat"},{default:d(()=>[L(p(l),1)]),_:2},1032,["color"]))),256))]))]))}}),wo=J(Eo,[["__scopeId","data-v-23c01601"]]),Po=$({__name:"ItemData",props:{torrent:{},title:{},value:{}},setup(_){const e=N();return(r,t)=>(u(),f("td",null,p(s(St)(r.torrent[r.value],s(e).useBinarySize)),1))}}),Ao={key:0},Lo={key:1},Bo=$({__name:"ItemDateTime",props:{torrent:{},title:{},value:{}},setup(_){const e=N();return(r,t)=>r.torrent[r.value]>0?(u(),f("td",Ao,p(s(ie)(r.torrent[r.value]*1e3).format(s(e).dateFormat??"DD/MM/YYYY, HH:mm:ss")),1)):(u(),f("td",Lo,p(r.$t("dashboard.not_complete")),1))}}),Oo={key:0},Mo={key:1},No=$({__name:"ItemDuration",props:{torrent:{},title:{},value:{}},setup(_){const e=_,r=I(()=>{const t=ie.duration(e.torrent[e.value],"seconds"),c=[t.years(),t.months(),t.days(),t.hours(),t.minutes(),t.seconds()],o=["Y","M","d","h","m","s"];let a=!1;return c.map((l,m)=>{if(a||l)return a=!0,`${l}${o[m]}`}).filter(l=>l).join(" ")});return(t,c)=>t.torrent[t.value]>0?(u(),f("td",Oo,p(r.value),1)):(u(),f("td",Mo,p(t.$t("dashboard.not_complete")),1))}}),Ro=$({__name:"ItemPercent",props:{torrent:{},title:{},value:{}},setup(_){const e=_,r=I(()=>[F.UPLOADING,F.CHECKING_UP,F.FORCED_UP,F.ALLOCATING,F.DOWNLOADING,F.META_DL,F.CHECKING_DL,F.FORCED_DL,F.CHECKING_RESUME_DATA,F.MOVING].includes(e.torrent.state));return(t,c)=>(u(),f("td",null,[n(et,{"model-value":t.torrent[t.value],max:1,striped:r.value,height:20,color:`torrent-${t.torrent.state}`,rounded:"sm",style:{width:"10em"}},{default:d(()=>[L(p(s(Je)(t.torrent[t.value])),1)]),_:1},8,["model-value","striped","color"])]))}}),Uo=$({__name:"ItemRelativeTime",props:{torrent:{},title:{},value:{}},setup(_){return(e,r)=>(u(),f("td",null,p(s(ie)(e.torrent[e.value]*1e3).fromNow()),1))}}),xo=$({__name:"ItemSpeed",props:{torrent:{},title:{},value:{}},setup(_){const e=N();return(r,t)=>(u(),f("td",null,p(s(Dt)(r.torrent[r.value],s(e).useBitSpeed)),1))}}),Go=$({__name:"ItemText",props:{torrent:{},title:{},value:{}},setup(_){return(e,r)=>(u(),f("td",null,p(e.torrent[e.value]),1))}}),Fo=$({__name:"TableTorrent",props:{torrent:{}},setup(_){const e=N(),r=I(()=>e.tableProperties.filter(c=>c.active).sort((c,o)=>c.order-o.order)),t=c=>{switch(c){case V.AMOUNT:return Io;case V.CHIP:return wo;case V.DATA:return Po;case V.DATETIME:return Bo;case V.DURATION:return No;case V.PERCENT:return Ro;case V.RELATIVE:return Uo;case V.SPEED:return xo;case V.TEXT:default:return Go}};return(c,o)=>(u(!0),f(G,null,z(r.value,a=>(u(),P(Oe(t(a.type)),R({torrent:c.torrent},a.props),null,16,["torrent"]))),256))}}),Ho=_=>(mt("data-v-d4523ffc"),_=_(),pt(),_),Ko=Ho(()=>h("th",{class:"px-1"},null,-1)),Yo={key:0},qo={class:"text-left"},zo={class:"text-left"},jo=["onContextmenu","onTouchstart","onClick","onDblclick"],Xo={key:0},Wo=$({__name:"TableView",props:{paginatedTorrents:{}},emits:["onCheckboxClick","onTorrentClick","onTorrentDblClick","onTorrentRightClick","startPress","endPress"],setup(_){const e=W(),r=N(),t=I(()=>r.tableProperties.filter(a=>a.active).sort((a,l)=>a.order-l.order));function c(a){return e.isTorrentInSelection(a.hash)}const o=a=>["pointer",c(a)?`bg-torrent-${a.state}-darken-3 selected`:""];return(a,l)=>(u(),P(It,{id:"torrentList",class:"pa-0",density:"compact"},{default:d(()=>[h("thead",null,[h("tr",null,[Ko,s(e).isSelectionMultiple?(u(),f("th",Yo)):U("",!0),h("th",qo,p(a.$t("torrent.properties.name")),1),(u(!0),f(G,null,z(t.value,m=>(u(),f("th",zo,p(a.$t(`torrent.properties.${m.props.title}`)),1))),256))])]),h("tbody",null,[(u(!0),f(G,null,z(a.paginatedTorrents,m=>De((u(),f("tr",{class:ne(o(m)),onContextmenu:i=>a.$emit("onTorrentRightClick",i,m),onTouchcancel:l[0]||(l[0]=i=>a.$emit("endPress")),onTouchend:l[1]||(l[1]=i=>a.$emit("endPress")),onTouchmove:l[2]||(l[2]=i=>a.$emit("endPress")),onTouchstart:i=>a.$emit("startPress",i.touches.item(0),m),onClick:i=>a.$emit("onTorrentClick",i,m),onDblclick:i=>a.$emit("onTorrentDblClick",m)},[h("td",{class:ne(`pa-0 bg-torrent-${m.state}`)},null,2),s(e).isSelectionMultiple?(u(),f("td",Xo,[n(ye,{"model-value":c(m),color:`torrent-${m.state}`,variant:"text",onClick:Z(i=>a.$emit("onCheckboxClick",m),["stop"])},null,8,["model-value","color","onClick"])])):U("",!0),h("td",null,p(m.name),1),n(Fo,{torrent:m},null,8,["torrent"])],42,jo)),[[Vt]])),256))])]),_:1}))}}),Zo=J(Wo,[["__scopeId","data-v-d4523ffc"]]),Qo={class:"pt-4 px-1 px-sm-5"},Jo={class:"text-grey"},ea={key:0,class:"mt-5 text-xs-center"},ta={class:"text-grey"},oa={key:1},aa={key:5},ca=$({__name:"Dashboard",setup(_){const{t:e}=Ce(),r=Xe(),t=W(),{currentPage:c,isSelectionMultiple:o,selectedTorrents:a,displayMode:l}=ve(t),m=Ze(),i=Ee(),E=le(),{filteredTorrents:g}=ve(E),B=N(),w=I(()=>l.value===q.LIST),T=I(()=>l.value===q.GRID),C=I(()=>l.value===q.TABLE),{paginatedResults:S,currentPage:y,pageCount:D}=At(g,B.paginationSize,c),H=I(()=>g.value.length<=a.value.length),j=ze({isVisible:!1,offset:[0,0]});function de(){window.scrollTo({top:0,behavior:"smooth"})}function ge(k){if(k)return Pe(()=>{document.getElementById("searchInput")?.focus()});Pe(()=>{document.getElementById("searchInput")?.blur()})}function we(){H.value?t.unselectAllTorrents():t.selectTorrents(...g.value.map(k=>k.hash))}function ue(k){o.value||r.push({name:"torrentDetail",params:{hash:k.hash}})}function ce(k){t.toggleSelect(k.hash)}function ee(k,A){k.shiftKey?t.spanTorrentSelection(A.hash):(Be(k)||t.isSelectionMultiple)&&(t.isSelectionMultiple=!0,t.toggleSelect(A.hash))}async function te(k,A){j.isVisible&&(j.isVisible=!1,await Pe()),j.isVisible=!0,j.offset=[k.pageX,k.pageY],o.value?a.value.length===0&&t.selectTorrent(A.hash):(t.unselectAllTorrents(),t.selectTorrent(A.hash))}const oe=M();function me(k,A){oe.value=setTimeout(()=>{te(k,A)},500)}function pe(){clearTimeout(oe.value)}function Te(k){if(m.hasActiveDialog)return!1;const A=k.target;if(Be(k)&&k.key==="a"&&A.tagName!=="INPUT")return t.unselectAllTorrents(),t.selectTorrents(...g.value.map(b=>b.hash)),k.preventDefault(),!0;if(Be(k)&&k.key==="f"){const b=document.getElementById("searchInput");if(document.activeElement!==b)return ge(!0),k.preventDefault(),!0}if(k.key==="Escape"){const b=document.getElementById("searchInput");return document.activeElement===b?ge(!1):(o.value=!1,t.unselectAllTorrents()),k.preventDefault(),!0}if(k.key==="Delete")return a.value.length===0?void 0:(m.createDialog(Qe,{hashes:a.value}),k.preventDefault(),!0);if(k.key==="/"){const b=document.getElementById("searchInput");return document.activeElement!==b&&(r.push({name:"searchEngine"}),k.preventDefault()),!0}}return vt(()=>j.isVisible,k=>{!k&&!o.value&&t.unselectAllTorrents()}),Se(async()=>{await i.fetchCategories(),await i.fetchTags()}),je(()=>{document.addEventListener("keydown",Te),o.value=!1,de()}),ht(()=>{document.removeEventListener("keydown",Te)}),(k,A)=>(u(),f(G,null,[h("div",Qo,[n(Mt),n(Ie,{class:"ma-0 pa-0"},{default:d(()=>[n(Et,null,{default:d(()=>[De(n(se,{color:"transparent"},{default:d(()=>[n(X,{text:s(e)("common.selectAll"),location:"bottom"},{activator:d(({props:b})=>[n(O,R({icon:H.value?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",class:"text-grey",color:"transparent",style:{left:"-8px"}},b,{onClick:we}),null,16,["icon"])]),_:1},8,["text"]),h("span",Jo,p(s(e)("dashboard.selectAll")),1)]),_:1},512),[[Me,s(o)]])]),_:1})]),_:1}),s(g).length===0?(u(),f("div",ea,[h("p",ta,p(s(e)("common.emptyList")),1)])):U("",!0),s(B).isPaginationOnTop&&!s(B).isInfiniteScrollActive&&s(D)>1?(u(),f("div",oa,[n(He,{modelValue:s(y),"onUpdate:modelValue":A[0]||(A[0]=b=>_e(y)?y.value=b:null),length:s(D),"next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left",onInput:de},null,8,["modelValue","length"])])):U("",!0),w.value?(u(),P(Do,{key:2,"paginated-torrents":s(S),onOnTorrentClick:ee,onOnTorrentDblClick:ue,onOnCheckboxClick:ce,onOnTorrentRightClick:te,onStartPress:me,onEndPress:pe},null,8,["paginated-torrents"])):T.value?(u(),P(To,{key:3,class:"mb-2","paginated-torrents":s(S),onOnTorrentClick:ee,onOnTorrentDblClick:ue,onOnCheckboxClick:ce,onOnTorrentRightClick:te,onStartPress:me,onEndPress:pe},null,8,["paginated-torrents"])):C.value?(u(),P(Zo,{key:4,"paginated-torrents":s(S),onOnTorrentClick:ee,onOnTorrentDblClick:ue,onOnCheckboxClick:ce,onOnTorrentRightClick:te,onStartPress:me,onEndPress:pe},null,8,["paginated-torrents"])):U("",!0),!s(B).isPaginationOnTop&&!s(B).isInfiniteScrollActive&&s(D)>1?(u(),f("div",aa,[n(He,{modelValue:s(y),"onUpdate:modelValue":A[1]||(A[1]=b=>_e(y)?y.value=b:null),length:s(D),"next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left",onInput:de},null,8,["modelValue","length"])])):U("",!0)]),n(xt,{"right-click-properties":j},null,8,["right-click-properties"])],64))}});export{ca as default};
