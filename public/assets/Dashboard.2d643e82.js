import{m as lt,a as ct}from"./vue.10642814.js";import{m as Wt,T as Kt,i as Ht,C as Gt,R as Xt,_ as d,G as ht,a as gt,b as Yt,c as Qt,d as Jt,e as Zt,f as qt,g as te,h as ee,j as se,k as ne,l as re,n as ie,o as ae,p as oe,q as le,r as ce,s as he,t as ue,u as _e,v as St,w as kt,x as de,y as Tt,z as wt,A as pe,Q as S,B as C,D,E as m,V as f,F as G,H as O,I as z,J as v,K as ut,L as Et,M as B,N as X,O as _t,P as vt,S as Y,U as me,W as fe,X as ge,Y as ve,Z as q,$ as Ct,a0 as Ce,a1 as W,a2 as K,a3 as xe,a4 as ye}from"./index.fd589c7a.js";import{_ as $e}from"./Peers.79bbd1b1.js";import{_ as Me}from"./VCheckbox.ac0c86b8.js";const tt=Wt(Gt,Ht({onVisible:["init"]}),Kt).extend({name:"v-pagination",directives:{Resize:Xt},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:s=>s%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const s=parseInt(this.totalVisible,10);if(s===0||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const t=Math.min(Math.max(0,s)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);const e=t%2===0?1:0,n=Math.floor(t/2),r=this.length-n+1+e;if(this.value>n&&this.value<r){const a=this.length,o=this.value-n+2,l=this.value+n-2-e,c=o-1===1+1?2:"...",h=l+1===a-1?l+1:"...";return[1,c,...this.range(o,l),h,this.length]}else if(this.value===n){const i=this.value+n-1-e;return[...this.range(1,i),"...",this.length]}else if(this.value===r){const i=this.value-n+1;return[1,"...",...this.range(i,this.length)]}else return[...this.range(1,n),"...",...this.range(r,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const s=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((s-96)/42)},next(s){s.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(s){s.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(s,t){const e=[];s=s>0?s:1;for(let n=s;n<=t;n++)e.push(n);return e},genIcon(s,t,e,n,r){return s("li",[s("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":e},attrs:{disabled:e,type:"button","aria-label":r},on:e?{}:{click:n}},[s(d,[t])])])},genItem(s,t){const e=t===this.value&&(this.color||"primary"),n=t===this.value,r=n?this.currentPageAriaLabel:this.pageAriaLabel;return s("button",this.setBackgroundColor(e,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":t===this.value},attrs:{type:"button","aria-current":n,"aria-label":this.$vuetify.lang.t(r,t)},on:{click:()=>this.$emit("input",t)}}),[t.toString()])},genItems(s){return this.items.map((t,e)=>s("li",{key:e},[isNaN(Number(t))?s("span",{class:"v-pagination__more"},[t.toString()]):this.genItem(s,t)]))},genList(s,t){return s("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render(s){const t=[this.genIcon(s,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(s),this.genIcon(s,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return s("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(s,t)])}}),dt={methods:{isAlreadySelected(s){return this.$store.getters.containsTorrent(s)},selectTorrent(s){this.$store.state.selectMode||(this.$store.state.selectMode=!0),this.isAlreadySelected(s)?this.$store.commit("SET_SELECTED",{type:"remove",hash:s}):this.$store.commit("SET_SELECTED",{type:"add",hash:s})},selectUntil(s,t){!this.$store.state.selectMode||this.$store.commit("SET_SELECTED",{type:"until",hash:s,index:t})}}};const be={name:"TorrentRightClickMenu",mixins:[ht,dt],props:{torrent:Object,touchmode:Boolean,x:Number},data(){return{isRightside:!0,priority_options:[{name:"top",icon:gt,action:"topPrio"},{name:"increase",icon:Yt,action:"increasePrio"},{name:"decrease",icon:Qt,action:"decreasePrio"},{name:"bottom",icon:Jt,action:"bottomPrio"}],mdiDelete:Zt,mdiPlay:qt,mdiPause:te,mdiSelect:ee,mdiFastForward:se,mdiFolder:ne,mdiRenameBox:re,mdiInformation:ie,mdiMagnet:ae,mdiAccountGroup:oe,mdiPlaylistCheck:le,mdiPriorityHigh:gt,mdiBullhorn:ce,mdiChevronRight:he,mdiShape:ue,mdiHeadCog:_e,mdiCheckboxMarked:St,mdiCheckboxBlankOutline:kt,mdiSpeedometerSlow:de,mdiChevronUp:Tt,mdiChevronDown:wt,mdiContentCopy:pe}},computed:{...lt(["getCategories"]),...ct(["selected_torrents"]),availableCategories(){const s=[{name:"None",value:""}];return s.push(...this.getCategories().map(t=>({name:t.name,value:t.name}))),s},hashes(){return this.multiple?this.selected_torrents:[this.torrent.hash]},multiple(){return this.selected_torrents.length>1}},watch:{x(){this.detectRightside()}},mounted(){this.detectRightside()},methods:{detectRightside(){this.isRightside=document.documentElement.clientWidth<this.x+380},resume(){S.resumeTorrents(this.hashes)},pause(){S.pauseTorrents(this.hashes)},location(){this.createModal("ChangeLocationModal",{hash:this.torrent.hash})},rename(){this.createModal("RenameModal",{hash:this.torrent.hash})},reannounce(){S.reannounceTorrents(this.hashes)},removeTorrent(){return this.$store.state.selected_torrents=this.hashes,this.createModal("ConfirmDeleteModal")},recheck(){S.recheckTorrents(this.hashes)},showInfo(){this.$router.push({name:"torrentDetail",params:{hash:this.torrent.hash}})},setPriority(s){S.setTorrentPriority(this.hashes,s)},setLimit(s){this.createModal("SpeedLimitModal",{hash:this.torrent.hash,mode:s})},setShareLimit(){this.createModal("ShareLimitModal",{hash:this.torrent.hash})},forceResume(){S.forceStartTorrents(this.hashes)},setCategory(s){S.setCategory(this.hashes,s)},toggleSeq(){S.toggleSequentialDownload(this.hashes)},toggleFL(){S.toggleFirstLastPiecePriority(this.hashes)},toggleAutoTMM(){S.setAutoTMM(this.hashes,!this.torrent.auto_tmm)},copyToClipBoard(s){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(s);else{const t=document.createElement("textarea");t.value=s,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){console.error("Unable to copy to clipboard",e)}document.body.removeChild(t)}}}};var Se=function(){var t=this,e=t._self._c;return e(D,{staticClass:"noselect"},[e(m,{attrs:{link:""},on:{click:t.resume}},[e(d,[t._v(t._s(t.mdiPlay))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.resume")))+" ")])],1),e(m,{attrs:{link:""},on:{click:t.forceResume}},[e(d,[t._v(t._s(t.mdiFastForward))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.forceResume")))+" ")])],1),e(m,{attrs:{link:""},on:{click:t.pause}},[e(d,[t._v(t._s(t.mdiPause))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("pause")))+" ")])],1),e(G),e(m,{attrs:{link:""},on:{click:t.removeTorrent}},[e(d,{attrs:{color:"red"}},[t._v(" "+t._s(t.mdiDelete)+" ")]),e(f,{staticClass:"ml-2 red--text list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("delete")))+" ")])],1),e(G),e(O,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(m,t._g({attrs:{link:""}},n),[e(d,[t._v(t._s(t.mdiHeadCog))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.advanced")))+" ")]),e(z,[e(d,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}])},[e(D,[t.multiple?t._e():e(m,{attrs:{link:""},on:{click:t.location}},[e(d,[t._v(t._s(t.mdiFolder))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.changeLocation")))+" ")])],1),t.multiple?t._e():e(m,{attrs:{link:""},on:{click:t.rename}},[e(d,[t._v(t._s(t.mdiRenameBox))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.rename")))+" ")])],1),e(m,{attrs:{link:""},on:{click:t.recheck}},[e(d,[t._v(t._s(t.mdiPlaylistCheck))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.forceRecheck")))+" ")])],1),e(m,{attrs:{link:""},on:{click:t.reannounce}},[e(d,[t._v(t._s(t.mdiBullhorn))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.forceReannounce")))+" ")])],1),t.multiple?t._e():e(m,{attrs:{link:""},on:{click:t.toggleSeq}},[e(d,[t._v(" "+t._s(t.torrent.seq_dl?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.sequentialDownload")))+" ")])],1),t.multiple?t._e():e(m,{attrs:{link:""},on:{click:t.toggleFL}},[e(d,[t._v(" "+t._s(t.torrent.f_l_piece_prio?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.firstLastPriority")))+" ")])],1),t.multiple?t._e():e(m,{attrs:{link:""},on:{click:t.toggleAutoTMM}},[e(d,[t._v(" "+t._s(t.torrent.auto_tmm?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.automaticTorrentManagement")))+" ")])],1)],1)],1),e(O,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(m,t._g({attrs:{link:""}},n),[e(d,[t._v(t._s(t.mdiPriorityHigh))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.prio.prio")))+" ")]),e(z,[e(d,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}])},[e(D,t._l(t.priority_options,function(n,r){return e(m,{key:r,attrs:{link:""},on:{click:function(i){return t.setPriority(n.action)}}},[e(d,[t._v(t._s(n.icon))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.prio."+n.name)))+" ")])],1)}),1)],1),e(O,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(m,t._g({attrs:{link:""}},n),[e(d,[t._v(t._s(t.mdiShape))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.category")))+" ")]),e(z,[e(d,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}])},[e(D,t._l(t.availableCategories,function(n,r){return e(m,{key:r,attrs:{link:""},on:{click:function(i){return t.setCategory(n.value)}}},[e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(n.name)+" ")])],1)}),1)],1),t.multiple?t._e():e(O,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(m,t._g({attrs:{link:""}},n),[e(d,[t._v(t._s(t.mdiSpeedometerSlow))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.limit")))+" ")]),e(z,[e(d,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,3722793998)},[e(D,[e(m,{on:{click:function(n){return t.setLimit("download")}}},[e(d,[t._v(t._s(t.mdiChevronDown))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("download"))+" ")])],1),e(m,{on:{click:function(n){return t.setLimit("upload")}}},[e(d,[t._v(t._s(t.mdiChevronUp))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("upload"))+" ")])],1),e(m,{on:{click:function(n){return t.setShareLimit()}}},[e(d,[t._v(t._s(t.mdiAccountGroup))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("share"))+" ")])],1)],1)],1),t.multiple?t._e():e(O,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(m,t._g({attrs:{link:""}},n),[e(d,[t._v(t._s(t.mdiContentCopy))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.copy")))+" ")]),e(z,[e(d,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,3002562102)},[e(D,[e(m,{on:{click:function(n){return t.copyToClipBoard(t.torrent.name)}}},[e(d,[t._v(t._s(t.mdiContentCopy))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("name"))+" ")])],1),e(m,{on:{click:function(n){return t.copyToClipBoard(t.torrent.hash)}}},[e(d,[t._v(t._s(t.mdiContentCopy))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("hash"))+" ")])],1),e(m,{on:{click:function(n){return t.copyToClipBoard(t.torrent.magnet)}}},[e(d,[t._v(t._s(t.mdiMagnet))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("magnet"))+" ")])],1)],1)],1),t.multiple?t._e():e(G),t.multiple?t._e():e(m,{attrs:{link:""},on:{click:t.showInfo}},[e(d,[t._v(t._s(t.mdiInformation))]),e(f,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.info")))+" ")])],1)],1)},ke=[],Te=C(be,Se,ke,!1,null,"421d7b93",null,null);const Rt=Te.exports,we={name:"Size",props:["torrent"]};var Ee=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.size")))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.size))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.size))+" ")])])])},Re=[],Le=C(we,Ee,Re,!1,null,null,null,null);const Ie=Le.exports,Ae={name:"Progress",mixins:[ut],props:["torrent"]};var De=function(){var t=this,e=t._self._c;return e(v,{staticClass:"mr-4",attrs:{xs12:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.progress")))+" ")]),e(Et,{style:t.phoneLayout?"":"width: 80%;",attrs:{value:t.torrent.progress,height:"20",color:`torrent-${t.state}`,rounded:""}},[e("span",{staticClass:"caption white--text"},[t._v(" "+t._s(t.torrent.progress)+"% ")])])],1)},Fe=[],Ne=C(Ae,De,Fe,!1,null,null,null,null);const Pe=Ne.exports,Oe={name:"Download",props:["torrent"]};var ze=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("download"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.dlspeed,1))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dlspeed,1))+"/s ")])])])},je=[],Be=C(Oe,ze,je,!1,null,null,null,null);const Ue=Be.exports,Ve={name:"Downloaded",props:["torrent"]};var We=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("downloaded"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.dloaded,2))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dloaded,1))+" ")])])])},Ke=[],He=C(Ve,We,Ke,!1,null,null,null,null);const Ge=He.exports,Xe={name:"Ratio",props:["torrent"]};var Ye=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("ratio"))+" ")]),e("div",[t._v(t._s(t.torrent.ratio))])])},Qe=[],Je=C(Xe,Ye,Qe,!1,null,null,null,null);const Ze=Je.exports,qe={name:"Upload",props:["torrent"]};var ts=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("upload"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.upspeed,1))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.upspeed,1))+"/s ")])])])},es=[],ss=C(qe,ts,es,!1,null,null,null,null);const ns=ss.exports,rs={name:"ETA",props:["torrent"]};var is=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("ETA"))+" ")]),e("div",[t._v(" "+t._s(t.torrent.eta)+" ")])])},as=[],os=C(rs,is,as,!1,null,null,null,null);const ls=os.exports,cs={name:"Seeds",props:["torrent"]};var hs=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("seeds"))+" ")]),e("div",[t._v(" "+t._s(t.torrent.num_seeds)+" "),e("span",{staticClass:"grey--text caption"},[t._v(" /"+t._s(t.torrent.available_seeds)+" ")])])])},us=[],_s=C(cs,hs,us,!1,null,null,null,null);const ds=_s.exports,ps={name:"Status",mixins:[ut],props:["torrent"],computed:{stateString(){return this.torrent.forced?`[F] ${this.torrent.state}`:this.torrent.state}}};var ms=function(){var t=this,e=t._self._c;return e(v,{staticClass:"mr-4",attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("status"))+" ")]),e(B,{staticClass:"caption white--text px-2",class:t.state,attrs:{small:""}},[t._v(" "+t._s(t.stateString)+" ")])],1)},fs=[],gs=C(ps,ms,fs,!1,null,null,null,null);const vs=gs.exports,Cs={name:"Category",props:["torrent"]};var xs=function(){var t=this,e=t._self._c;return t.torrent.category?e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("category"))+" ")]),e(B,{staticClass:"upload white--text caption",attrs:{small:""}},[t._v(" "+t._s(t.torrent.category)+" ")])],1):t._e()},ys=[],$s=C(Cs,xs,ys,!1,null,null,null,null);const Ms=$s.exports,bs={name:"Tags",mixins:[ut],props:["torrent"]};var Ss=function(){var t=this,e=t._self._c;return t.torrent.tags&&t.torrent.tags.length?e(v,{attrs:{xs6:"",sm2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("tags"))+" ")]),e(X,{staticClass:"ma-0",attrs:{wrap:""}},t._l(t.torrent.tags,function(n){return e(B,{key:n,staticClass:"download caption mb-1 mx-1",class:t.theme==="light"?"white--text":"black--text",attrs:{small:""}},[t._v(" "+t._s(n)+" ")])}),1)],1):t._e()},ks=[],Ts=C(bs,Ss,ks,!1,null,null,null,null);const ws=Ts.exports,Es={name:"AddedOn",props:["torrent"]};var Rs=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.added")))+" ")]),e("div",[t._v(t._s(t.torrent.added_on))])])},Ls=[],Is=C(Es,Rs,Ls,!1,null,null,null,null);const As=Is.exports,Ds={name:"Uploaded",props:["torrent"]};var Fs=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("uploaded"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.uploaded))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.uploaded))+" ")])])])},Ns=[],Ps=C(Ds,Fs,Ns,!1,null,null,null,null);const Os=Ps.exports,zs={name:"UploadedSession",props:["torrent"]};var js=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm2:"",md2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" Uploaded Session "+t._s(t.$t("torrent.uploadedSession"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.uploaded_session))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.uploaded_session))+" ")])])])},Bs=[],Us=C(zs,js,Bs,!1,null,null,null,null);const Vs=Us.exports,Ws={name:"Availability",props:["torrent"],computed:{availability(){return this.torrent.availability!==-1?this.torrent.availability:"N/A"}}};var Ks=function(){var t=this,e=t._self._c;return e(v,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.availability")))+" ")]),e("div",[t._v(" "+t._s(t.availability)+" ")])])},Hs=[],Gs=C(Ws,Ks,Hs,!1,null,null,null,null);const Xs=Gs.exports,Ys=Object.freeze(Object.defineProperty({__proto__:null,Size:Ie,Progress:Pe,Download:Ue,Ratio:Ze,Upload:ns,ETA:ls,Peers:$e,Seeds:ds,Status:vs,Category:Ms,Tags:ws,AddedOn:As,Uploaded:Os,UploadedSession:Vs,Downloaded:Ge,Availability:Xs},Symbol.toStringTag,{value:"Module"})),Qs={name:"DesktopCard",components:{...Ys},props:{torrent:Object},computed:{...lt(["getWebuiSettings"]),properties(){return this.torrent.progress===100?this.getWebuiSettings().doneTorrentProperties.filter(s=>s.active):this.getWebuiSettings().busyTorrentProperties.filter(s=>s.active)}}};var Js=function(){var t=this,e=t._self._c;return e(_t,{staticClass:"ma-0 px-4 py-2 ml-0",attrs:{row:"",wrap:""}},[e(v,{attrs:{xs12:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("torrent.torrentTitle"))+" ")]),e("div",{staticClass:"truncate mr-4"},[t._v(" "+t._s(t.torrent.name)+" ")])]),t._l(t.properties,function(n){return e(n.name,{key:n.name,tag:"component",attrs:{torrent:t.torrent}})})],2)},Zs=[],qs=C(Qs,Js,Zs,!1,null,null,null,null);const Lt=qs.exports,tn={name:"MobileCard",props:{torrent:Object},data:()=>({mdiChevronUp:Tt,mdiChevronDown:wt})};var en=function(){var t=this,e=t._self._c;return e(_t,{staticClass:"ma-0 pa-1",attrs:{row:"",wrap:""}},[e(v,{staticClass:"ma-1",attrs:{xs12:"",row:""}},[e("span",{staticClass:"subtitle-1",staticStyle:{"line-height":"1.3em","font-size":"0.95em !important"}},[t._v(" "+t._s(t.torrent.name)+" ")])]),e(v,{staticClass:"ma-1 mt-0",attrs:{xs12:"",row:""}},[e(B,{staticClass:"caption white--text mr-2",class:t.torrent.state.toLowerCase(),staticStyle:{height:"20px"},attrs:{small:""}},[t._v(" "+t._s(t.torrent.state)+" ")]),t.torrent.category?e(B,{staticClass:"upload caption white--text",staticStyle:{height:"20px"},attrs:{small:""}},[t._v(" "+t._s(t.torrent.category)+" ")]):t._e()],1),e(v,{staticClass:"pa-0 ma-1 row",attrs:{xs12:""}},[e("span",{staticClass:"body-2"},[t._v(" "+t._s(t._f("getDataValue")(t.torrent.dloaded))+" ")]),e("span",{staticClass:"grey--text caption ml-1"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dloaded))+" / ")]),e("span",{staticClass:"body-2 ml-1"},[t._v(" "+t._s(t._f("getDataValue")(t.torrent.size))+" ")]),e("span",{staticClass:"grey--text caption ml-1"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.size)))]),e("span",{staticClass:"mx-1 grey--text",staticStyle:{"margin-top":"3px"}},[t._v("\u2022")]),e("span",{staticClass:"body-2"},[t._v(t._s(t.torrent.progress))]),e("span",{staticClass:"grey--text caption ml-1"},[t._v("%")]),e("span",{staticClass:"mx-1 grey--text",staticStyle:{"margin-top":"3px"}},[t._v("\u2022")]),e("span",{staticClass:"grey--text caption"},[t._v(" R: ")]),e("span",{staticClass:"body-2 ml-1"},[t._v(" "+t._s(t.torrent.ratio)+" ")]),e("span",{staticClass:"mx-1 grey--text",staticStyle:{"margin-top":"3px"}},[t._v("\u2022")]),e("span",{staticClass:"body-2"},[t._v(" "+t._s(t._f("getDataValue")(t.torrent.uploaded))+" ")]),e("span",{staticClass:"grey--text caption ml-1"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.uploaded))+" ")]),e(vt),e("span",{staticClass:"body-2 ml-1"},[t._v(" "+t._s(t.torrent.eta)+" ")])],1),e(v,{staticClass:"ma-1",attrs:{xs12:""}},[e(Et,{attrs:{rounded:"",color:"upload",height:"5",value:t.torrent.progress}})],1),e(v,{staticClass:"ma-1",attrs:{row:"",xs12:""}},[e("div",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.num_seeds)+"/"+t._s(t.torrent.available_seeds)+" seeds")]),e("span",{staticClass:"mx-1 grey--text",staticStyle:{"margin-top":"2px"}},[t._v("\u2022")]),e("div",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.num_leechs)+"/"+t._s(t.torrent.available_peers)+" peers")]),e(vt),e("div",[t.torrent.dlspeed?e("span",[e(d,{staticClass:"grey--text",attrs:{small:""}},[t._v(" "+t._s(t.mdiChevronDown)+" ")]),e("span",{staticClass:"caption font-weight-medium grey--text"},[t._v(t._s(t._f("getDataValue")(t.torrent.dlspeed,1))+" ")]),e("span",{staticClass:"caption grey--text",staticStyle:{"font-size":"0.6em !important"}},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dlspeed,1))+"/s ")])],1):t._e(),t.torrent.upspeed?e("span",[e(d,{staticClass:"grey--text",attrs:{small:""}},[t._v(" "+t._s(t.mdiChevronUp)+" ")]),e("span",{staticClass:"caption font-weight-medium grey--text"},[t._v(t._s(t._f("getDataValue")(t.torrent.upspeed,1))+" ")]),e("span",{staticClass:"caption grey--text",staticStyle:{"font-size":"0.6em !important"}},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.upspeed,1))+"/s ")])],1):t._e()])],1)],1)},sn=[],nn=C(tn,en,sn,!1,null,null,null,null);const It=nn.exports,rn={name:"Torrent",components:{DesktopCard:Lt,MobileCard:It},mixins:[ht,dt],props:{torrent:Object,index:Number},computed:{...ct(["selected_torrents","selectMode"]),isSelected(){return this.selected_torrents.includes(this.torrent.hash)},style(){const s=this.torrent.state.toLowerCase();return`sideborder ${s} ${this.isSelected?`torrent-${s}`:""}`}},methods:{evtClicnk:function(s){s.shiftKey?this.selectUntil(this.torrent.hash,this.index):s.ctrlKey?this.selectTorrent(this.torrent.hash):this.selectMode&&this.selectTorrent(this.torrent.hash)}}};var an=function(){var t=this,e=t._self._c;return e(Y,{staticClass:"pointer noselect elevation-0 rounded-0 ma-0 pa-0",class:t.style},[e(_t,{on:{click:t.evtClicnk}},[t.isMobile?e(It,{attrs:{torrent:t.torrent}}):e(Lt,{attrs:{torrent:t.torrent}})],1)],1)},on=[],ln=C(rn,an,on,!1,null,null,null,null);const At=ln.exports;function w(s){return Array.isArray?Array.isArray(s):Nt(s)==="[object Array]"}const cn=1/0;function hn(s){if(typeof s=="string")return s;let t=s+"";return t=="0"&&1/s==-cn?"-0":t}function un(s){return s==null?"":hn(s)}function k(s){return typeof s=="string"}function Dt(s){return typeof s=="number"}function _n(s){return s===!0||s===!1||dn(s)&&Nt(s)=="[object Boolean]"}function Ft(s){return typeof s=="object"}function dn(s){return Ft(s)&&s!==null}function y(s){return s!=null}function et(s){return!s.trim().length}function Nt(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const pn="Incorrect 'index' type",mn=s=>`Invalid value for key ${s}`,fn=s=>`Pattern length exceeds max of ${s}.`,gn=s=>`Missing ${s} property in key`,vn=s=>`Property 'weight' in key '${s}' must be a positive integer`,xt=Object.prototype.hasOwnProperty;class Cn{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(n=>{let r=Pt(n);e+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight}),this._keys.forEach(n=>{n.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Pt(s){let t=null,e=null,n=null,r=1,i=null;if(k(s)||w(s))n=s,t=yt(s),e=st(s);else{if(!xt.call(s,"name"))throw new Error(gn("name"));const a=s.name;if(n=a,xt.call(s,"weight")&&(r=s.weight,r<=0))throw new Error(vn(a));t=yt(a),e=st(a),i=s.getFn}return{path:t,id:e,weight:r,src:n,getFn:i}}function yt(s){return w(s)?s:s.split(".")}function st(s){return w(s)?s.join("."):s}function xn(s,t){let e=[],n=!1;const r=(i,a,o)=>{if(!!y(i))if(!a[o])e.push(i);else{let l=a[o];const c=i[l];if(!y(c))return;if(o===a.length-1&&(k(c)||Dt(c)||_n(c)))e.push(un(c));else if(w(c)){n=!0;for(let h=0,_=c.length;h<_;h+=1)r(c[h],a,o+1)}else a.length&&r(c,a,o+1)}};return r(s,k(t)?t.split("."):t,0),n?e:e[0]}const yn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},$n={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,t)=>s.score===t.score?s.idx<t.idx?-1:1:s.score<t.score?-1:1},Mn={location:0,threshold:.6,distance:100},bn={useExtendedSearch:!1,getFn:xn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var u={...$n,...yn,...Mn,...bn};const Sn=/[^ ]+/g;function kn(s=1,t=3){const e=new Map,n=Math.pow(10,t);return{get(r){const i=r.match(Sn).length;if(e.has(i))return e.get(i);const a=1/Math.pow(i,.5*s),o=parseFloat(Math.round(a*n)/n);return e.set(i,o),o},clear(){e.clear()}}}class pt{constructor({getFn:t=u.getFn,fieldNormWeight:e=u.fieldNormWeight}={}){this.norm=kn(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,n)=>{this._keysMap[e.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,k(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();k(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!y(t)||et(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((r,i)=>{let a=r.getFn?r.getFn(t):this.getFn(t,r.path);if(!!y(a)){if(w(a)){let o=[];const l=[{nestedArrIndex:-1,value:a}];for(;l.length;){const{nestedArrIndex:c,value:h}=l.pop();if(!!y(h))if(k(h)&&!et(h)){let _={v:h,i:c,n:this.norm.get(h)};o.push(_)}else w(h)&&h.forEach((_,p)=>{l.push({nestedArrIndex:p,value:_})})}n.$[i]=o}else if(k(a)&&!et(a)){let o={v:a,n:this.norm.get(a)};n.$[i]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ot(s,t,{getFn:e=u.getFn,fieldNormWeight:n=u.fieldNormWeight}={}){const r=new pt({getFn:e,fieldNormWeight:n});return r.setKeys(s.map(Pt)),r.setSources(t),r.create(),r}function Tn(s,{getFn:t=u.getFn,fieldNormWeight:e=u.fieldNormWeight}={}){const{keys:n,records:r}=s,i=new pt({getFn:t,fieldNormWeight:e});return i.setKeys(n),i.setIndexRecords(r),i}function H(s,{errors:t=0,currentLocation:e=0,expectedLocation:n=0,distance:r=u.distance,ignoreLocation:i=u.ignoreLocation}={}){const a=t/s.length;if(i)return a;const o=Math.abs(n-e);return r?a+o/r:o?1:a}function wn(s=[],t=u.minMatchCharLength){let e=[],n=-1,r=-1,i=0;for(let a=s.length;i<a;i+=1){let o=s[i];o&&n===-1?n=i:!o&&n!==-1&&(r=i-1,r-n+1>=t&&e.push([n,r]),n=-1)}return s[i-1]&&i-n>=t&&e.push([n,i-1]),e}const F=32;function En(s,t,e,{location:n=u.location,distance:r=u.distance,threshold:i=u.threshold,findAllMatches:a=u.findAllMatches,minMatchCharLength:o=u.minMatchCharLength,includeMatches:l=u.includeMatches,ignoreLocation:c=u.ignoreLocation}={}){if(t.length>F)throw new Error(fn(F));const h=t.length,_=s.length,p=Math.max(0,Math.min(n,_));let g=i,x=p;const $=o>1||l,I=$?Array(_):[];let T;for(;(T=s.indexOf(t,x))>-1;){let M=H(t,{currentLocation:T,expectedLocation:p,distance:r,ignoreLocation:c});if(g=Math.min(M,g),x=T+h,$){let E=0;for(;E<h;)I[T+E]=1,E+=1}}x=-1;let N=[],A=1,U=h+_;const Vt=1<<h-1;for(let M=0;M<h;M+=1){let E=0,R=U;for(;E<R;)H(t,{errors:M,currentLocation:p+R,expectedLocation:p,distance:r,ignoreLocation:c})<=g?E=R:U=R,R=Math.floor((U-E)/2+E);U=R;let mt=Math.max(1,p-R+1),Z=a?_:Math.min(p+R,_)+h,P=Array(Z+2);P[Z+1]=(1<<M)-1;for(let b=Z;b>=mt;b-=1){let V=b-1,ft=e[s.charAt(V)];if($&&(I[V]=+!!ft),P[b]=(P[b+1]<<1|1)&ft,M&&(P[b]|=(N[b+1]|N[b])<<1|1|N[b+1]),P[b]&Vt&&(A=H(t,{errors:M,currentLocation:V,expectedLocation:p,distance:r,ignoreLocation:c}),A<=g)){if(g=A,x=V,x<=p)break;mt=Math.max(1,2*p-x)}}if(H(t,{errors:M+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:c})>g)break;N=P}const J={isMatch:x>=0,score:Math.max(.001,A)};if($){const M=wn(I,o);M.length?l&&(J.indices=M):J.isMatch=!1}return J}function Rn(s){let t={};for(let e=0,n=s.length;e<n;e+=1){const r=s.charAt(e);t[r]=(t[r]||0)|1<<n-e-1}return t}class zt{constructor(t,{location:e=u.location,threshold:n=u.threshold,distance:r=u.distance,includeMatches:i=u.includeMatches,findAllMatches:a=u.findAllMatches,minMatchCharLength:o=u.minMatchCharLength,isCaseSensitive:l=u.isCaseSensitive,ignoreLocation:c=u.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(p,g)=>{this.chunks.push({pattern:p,alphabet:Rn(p),startIndex:g})},_=this.pattern.length;if(_>F){let p=0;const g=_%F,x=_-g;for(;p<x;)h(this.pattern.substr(p,F),p),p+=F;if(g){const $=_-F;h(this.pattern.substr($),$)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let x={isMatch:!0,score:0};return n&&(x.indices=[[0,t.length-1]]),x}const{location:r,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:l,ignoreLocation:c}=this.options;let h=[],_=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:$,startIndex:I})=>{const{isMatch:T,score:N,indices:A}=En(t,x,$,{location:r+I,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:l,includeMatches:n,ignoreLocation:c});T&&(p=!0),_+=N,T&&A&&(h=[...h,...A])});let g={isMatch:p,score:p?_/this.chunks.length:1};return p&&n&&(g.indices=h),g}}class L{constructor(t){this.pattern=t}static isMultiMatch(t){return $t(t,this.multiRegex)}static isSingleMatch(t){return $t(t,this.singleRegex)}search(){}}function $t(s,t){const e=s.match(t);return e?e[1]:null}class Ln extends L{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class In extends L{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class An extends L{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class Dn extends L{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Fn extends L{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Nn extends L{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class jt extends L{constructor(t,{location:e=u.location,threshold:n=u.threshold,distance:r=u.distance,includeMatches:i=u.includeMatches,findAllMatches:a=u.findAllMatches,minMatchCharLength:o=u.minMatchCharLength,isCaseSensitive:l=u.isCaseSensitive,ignoreLocation:c=u.ignoreLocation}={}){super(t),this._bitapSearch=new zt(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Bt extends L{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,n;const r=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,e))>-1;)e=n+i,r.push([n,e-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const nt=[Ln,Bt,An,Dn,Nn,Fn,In,jt],Mt=nt.length,Pn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,On="|";function zn(s,t={}){return s.split(On).map(e=>{let n=e.trim().split(Pn).filter(i=>i&&!!i.trim()),r=[];for(let i=0,a=n.length;i<a;i+=1){const o=n[i];let l=!1,c=-1;for(;!l&&++c<Mt;){const h=nt[c];let _=h.isMultiMatch(o);_&&(r.push(new h(_,t)),l=!0)}if(!l)for(c=-1;++c<Mt;){const h=nt[c];let _=h.isSingleMatch(o);if(_){r.push(new h(_,t));break}}}return r})}const jn=new Set([jt.type,Bt.type]);class Bn{constructor(t,{isCaseSensitive:e=u.isCaseSensitive,includeMatches:n=u.includeMatches,minMatchCharLength:r=u.minMatchCharLength,ignoreLocation:i=u.ignoreLocation,findAllMatches:a=u.findAllMatches,location:o=u.location,threshold:l=u.threshold,distance:c=u.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:a,ignoreLocation:i,location:o,threshold:l,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=zn(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,a=[],o=0;for(let l=0,c=e.length;l<c;l+=1){const h=e[l];a.length=0,i=0;for(let _=0,p=h.length;_<p;_+=1){const g=h[_],{isMatch:x,indices:$,score:I}=g.search(t);if(x){if(i+=1,o+=I,n){const T=g.constructor.type;jn.has(T)?a=[...a,...$]:a.push($)}}else{o=0,i=0,a.length=0;break}}if(i){let _={isMatch:!0,score:o/i};return n&&(_.indices=a),_}}return{isMatch:!1,score:1}}}const rt=[];function Un(...s){rt.push(...s)}function it(s,t){for(let e=0,n=rt.length;e<n;e+=1){let r=rt[e];if(r.condition(s,t))return new r(s,t)}return new zt(s,t)}const Q={AND:"$and",OR:"$or"},at={PATH:"$path",PATTERN:"$val"},ot=s=>!!(s[Q.AND]||s[Q.OR]),Vn=s=>!!s[at.PATH],Wn=s=>!w(s)&&Ft(s)&&!ot(s),bt=s=>({[Q.AND]:Object.keys(s).map(t=>({[t]:s[t]}))});function Ut(s,t,{auto:e=!0}={}){const n=r=>{let i=Object.keys(r);const a=Vn(r);if(!a&&i.length>1&&!ot(r))return n(bt(r));if(Wn(r)){const l=a?r[at.PATH]:i[0],c=a?r[at.PATTERN]:r[l];if(!k(c))throw new Error(mn(l));const h={keyId:st(l),pattern:c};return e&&(h.searcher=it(c,t)),h}let o={children:[],operator:i[0]};return i.forEach(l=>{const c=r[l];w(c)&&c.forEach(h=>{o.children.push(n(h))})}),o};return ot(s)||(s=bt(s)),n(s)}function Kn(s,{ignoreFieldNorm:t=u.ignoreFieldNorm}){s.forEach(e=>{let n=1;e.matches.forEach(({key:r,norm:i,score:a})=>{const o=r?r.weight:null;n*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:i))}),e.score=n})}function Hn(s,t){const e=s.matches;t.matches=[],y(e)&&e.forEach(n=>{if(!y(n.indices)||!n.indices.length)return;const{indices:r,value:i}=n;let a={indices:r,value:i};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function Gn(s,t){t.score=s.score}function Xn(s,t,{includeMatches:e=u.includeMatches,includeScore:n=u.includeScore}={}){const r=[];return e&&r.push(Hn),n&&r.push(Gn),s.map(i=>{const{idx:a}=i,o={item:t[a],refIndex:a};return r.length&&r.forEach(l=>{l(i,o)}),o})}class j{constructor(t,e={},n){this.options={...u,...e},this.options.useExtendedSearch,this._keyStore=new Cn(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof pt))throw new Error(pn);this._myIndex=e||Ot(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){!y(t)||(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:o}=this.options;let l=k(t)?k(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Kn(l,{ignoreFieldNorm:o}),i&&l.sort(a),Dt(e)&&e>-1&&(l=l.slice(0,e)),Xn(l,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=it(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:i,i:a,n:o})=>{if(!y(i))return;const{isMatch:l,score:c,indices:h}=e.searchIn(i);l&&r.push({item:i,idx:a,matches:[{score:c,value:i,norm:o,indices:h}]})}),r}_searchLogical(t){const e=Ut(t,this.options),n=(o,l,c)=>{if(!o.children){const{keyId:_,searcher:p}=o,g=this._findMatches({key:this._keyStore.get(_),value:this._myIndex.getValueForItemAtKeyId(l,_),searcher:p});return g&&g.length?[{idx:c,item:l,matches:g}]:[]}const h=[];for(let _=0,p=o.children.length;_<p;_+=1){const g=o.children[_],x=n(g,l,c);if(x.length)h.push(...x);else if(o.operator===Q.AND)return[]}return h},r=this._myIndex.records,i={},a=[];return r.forEach(({$:o,i:l})=>{if(y(o)){let c=n(e,o,l);c.length&&(i[l]||(i[l]={idx:l,item:o,matches:[]},a.push(i[l])),c.forEach(({matches:h})=>{i[l].matches.push(...h)}))}}),a}_searchObjectList(t){const e=it(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:a,i:o})=>{if(!y(a))return;let l=[];n.forEach((c,h)=>{l.push(...this._findMatches({key:c,value:a[h],searcher:e}))}),l.length&&i.push({idx:o,item:a,matches:l})}),i}_findMatches({key:t,value:e,searcher:n}){if(!y(e))return[];let r=[];if(w(e))e.forEach(({v:i,i:a,n:o})=>{if(!y(i))return;const{isMatch:l,score:c,indices:h}=n.searchIn(i);l&&r.push({score:c,key:t,value:i,idx:a,norm:o,indices:h})});else{const{v:i,n:a}=e,{isMatch:o,score:l,indices:c}=n.searchIn(i);o&&r.push({score:l,key:t,value:i,norm:a,indices:c})}return r}}j.version="6.6.2";j.createIndex=Ot;j.parseIndex=Tn;j.config=u;j.parseQuery=Ut;Un(Bn);const Yn={name:"Dashboard",components:{Torrent:At,TorrentRightClickMenu:Rt},mixins:[dt,ht],data(){return{data:null,trcMenu:{show:!1,X:0,Y:0},tmCalc:{TouchMode:!1,TouchTimer:0,LastFinger:0,LastHash:""},trcMoveTick:0,input:"",searchFilterEnabled:!1,pageNumber:1,mdiTextBoxSearch:me,mdiChevronLeftCircle:fe,mdiMagnify:ge,mdiCheckboxBlankOutline:kt,mdiCheckboxMarked:St,mdiSort:ve}},computed:{...ct(["mainData","selected_torrents"]),...lt(["getTorrents","getTorrentCountString","getWebuiSettings"]),torrents(){if(!this.hasSearchFilter)return this.getTorrents();const s={threshold:.25,shouldSort:!1,keys:["name","size","state","hash","savePath","tags","category"]};return new j(this.getTorrents(),s).search(this.input).map(e=>e.item)},topPagination(){return this.getWebuiSettings().topPagination},paginationSize(){return this.getWebuiSettings().paginationSize},pageCount(){const s=this.torrents.length,t=this.paginationSize;return Math.ceil(s/t)},paginatedData(){const s=(this.pageNumber-1)*this.paginationSize,t=s+this.paginationSize;return this.hasSearchFilter?this.torrents:this.torrents.slice(s,t)},torrentCountString(){return this.getTorrentCountString()},selectMode(){return this.$store.state.selectMode},hasSearchFilter(){return this.input&&this.input.length},selectedTorrentsLength(){return this.$store.state.selected_torrents.length},allTorrentsSelected(){return this.selectedTorrentsLength===this.torrents.length}},watch:{torrents:function(s){this.$store.commit("SET_CURRENT_ITEM_COUNT",s.length)}},mounted(){document.addEventListener("keydown",this.handleKeyboardShortcut),document.addEventListener("dragenter",this.detectDragEnter),this.$store.state.selectMode=!1,window.scrollTo(0,0),document.addEventListener("scroll",function(){this.trcMenu.show=!1}.bind(this))},created(){this.$store.dispatch("INIT_INTERVALS"),this.$store.commit("FETCH_CATEGORIES")},beforeDestroy(){this.$store.commit("REMOVE_INTERVALS"),document.removeEventListener("keydown",this.handleKeyboardShortcut),document.removeEventListener("dragenter",this.detectDragEnter)},methods:{strTouchStart(s,t){this.trcMoveTick=0,this.trcMenu.show=!1,clearTimeout(this.tmCalc.TouchTimer),s.touches.length==1&&(this.tmCalc.LastFinger=1,this.tmCalc.TouchTimer=setTimeout(()=>this.showTorrentRightClickMenu(s.touches[0],t,!0),400)),s.touches.length==2&&(this.tmCalc.LastFinger=2,this.tmCalc.LastHash==t.torrent.hash&&(s.preventDefault(),this.showTorrentRightClickMenu(s.touches[0],t,!0))),this.tmCalc.LastHash=t.torrent.hash},strTouchMove(s){this.trcMoveTick++,this.trcMenu.show==!0&&s.touches.length>1?s.preventDefault():this.trcMoveTick>1&&s.touches.length==1&&(this.tmCalc.LastFinger==1&&(this.trcMenu.show=!1),clearTimeout(this.tmCalc.TouchTimer))},strTouchEnd(s){clearTimeout(this.tmCalc.TouchTimer),this.trcMenu.show&&s.preventDefault()},showTorrentRightClickMenu(s,t,e=!1){if(this.trcMenu.show)return!1;this.data=t,s.preventDefault&&s.preventDefault(),this.tmCalc.TouchMode=e,this.trcMenu.X=s.clientX+(e?12:6),this.trcMenu.Y=s.clientY+(e?12:6),this.$nextTick(()=>{this.trcMenu.show=!0})},detectDragEnter(){return this.selected_torrents.length==0&&this.$store.state.modals.length<1&&this.createModal("AddModal",{openSuddenly:!0}),!0},showInfo(s){this.$store.state.selectMode||this.$router.push({name:"torrentDetail",params:{hash:s}})},resetSelected(){this.$store.commit("RESET_SELECTED")},resetInput(){this.input=""},toTop(){this.$vuetify.goTo(0)},toggleSelectMode(){if(this.$store.state.selectMode)return this.$store.state.selected_torrents=[],this.$store.state.selectMode=!1;this.$store.state.selectMode=!0},addModal(s){this.createModal(s)},selectAllTorrents(){if(this.allTorrentsSelected)return this.$store.state.selected_torrents=[];const s=this.torrents.map(t=>t.hash);return this.$store.state.selectMode=!0,this.$store.state.selected_torrents=s},handleKeyboardShortcut(s){if(this.$store.state.modals.length>0)return null;if(s.keyCode===65&&s.ctrlKey&&(s.preventDefault(),this.selectAllTorrents()),s.keyCode===46)return s.preventDefault(),this.selected_torrents.length?this.createModal("ConfirmDeleteModal"):void 0;if(s.keyCode===55)return this.createModal("SearchModal")}}};var Qn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-1 px-sm-5 pt-4 background noselect",on:{click:function(n){return n.target!==n.currentTarget?null:t.resetSelected.apply(null,arguments)}}},[e(X,{staticClass:"ma-0 pa-0",on:{click:function(n){return n.target!==n.currentTarget?null:t.resetSelected.apply(null,arguments)}}},[t.topPagination&&t.isMobile?e(q,{staticClass:"align-center justify-center pa-0",attrs:{cols:"12"}},[e("div",{staticClass:"text-center"},[t.pageCount>1&&!t.hasSearchFilter?e(tt,{attrs:{length:t.pageCount,"total-visible":7},on:{input:t.toTop},model:{value:t.pageNumber,callback:function(n){t.pageNumber=n},expression:"pageNumber"}}):t._e()],1)]):t._e(),e(Ct,[e(Y,{directives:[{name:"show",rawName:"v-show",value:t.searchFilterEnabled,expression:"searchFilterEnabled"}],staticClass:"ma-0 pa-0 mt-1 transparent",attrs:{id:"searchFilter",flat:"",xs7:"",md3:""}},[e(Ce,{staticClass:"rounded-pill",attrs:{autofocus:"",flat:"",solo:"",clearable:"",dense:"","hide-details":"",label:"Search","prepend-inner-icon":t.mdiMagnify,height:"100%",width:"100px"},on:{"click:clear":function(n){return t.resetInput()}},model:{value:t.input,callback:function(n){t.input=n},expression:"input"}})],1)],1),e(X,{staticClass:"mb-1 mx-1",staticStyle:{"margin-top":"6px"}},[e(W,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(K,t._g({staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"","aria-label":"Select Mode"},on:{click:function(r){t.searchFilterEnabled=!t.searchFilterEnabled}}},n),[e(d,{attrs:{color:"grey"}},[t._v(" "+t._s(t.searchFilterEnabled?t.mdiChevronLeftCircle:t.mdiTextBoxSearch)+" ")])],1)]}}])},[e("span",[t._v("Toggle Search Filter")])]),e(W,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(K,t._g({staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"","aria-label":"Select Mode"},on:{click:function(r){return t.toggleSelectMode()}}},n),[e(d,{attrs:{color:"grey"}},[t._v(" "+t._s(t.$store.state.selectMode?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")])],1)]}}])},[e("span",[t._v("Select Mode")])]),e(W,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(K,t._g({staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"","aria-label":"Sort Torrents"},on:{click:function(r){return t.addModal("SortModal")}}},n),[e(d,{attrs:{color:"grey"}},[t._v(" "+t._s(t.mdiSort)+" ")])],1)]}}])},[e("span",[t._v("Sort Torrents")])]),t.topPagination&&!t.isMobile?e(q,{staticClass:"align-center justify-center pa-0",attrs:{cols:"8"}},[e("div",{staticClass:"text-center"},[t.pageCount>1&&!t.hasSearchFilter?e(tt,{attrs:{length:t.pageCount,"total-visible":7},on:{input:t.toTop},model:{value:t.pageNumber,callback:function(n){t.pageNumber=n},expression:"pageNumber"}}):t._e()],1)]):t._e(),e(q,{staticClass:"align-center justify-center"},[e("span",{staticClass:"mr-2 text-uppercase",staticStyle:{float:"right","font-size":"0.8em"}},[t._v(" "+t._s(t.torrentCountString)+" ")])])],1)],1),e(X,{staticClass:"ma-0 pa-0",attrs:{id:"selectAllTorrents"}},[e(xe,[e(Y,{directives:[{name:"show",rawName:"v-show",value:t.selectMode,expression:"selectMode"}],staticClass:"transparent",attrs:{flat:"",height:"40"}},[e(W,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(K,t._g({staticClass:"grey--text",staticStyle:{left:"-8px"},attrs:{text:"",small:"",fab:"","aria-label":"Select Mode"},on:{click:function(r){return t.selectAllTorrents()}}},n),[e(d,[t._v(" "+t._s(t.allTorrentsSelected?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")])],1)]}}])},[e("span",[t._v("Select All")])]),e("span",{staticClass:"grey--text"},[t._v(" Select / Release All ( Ctrl + A ) ")])],1)],1)],1),t.torrents.length===0?e("div",{staticClass:"mt-5 text-xs-center"},[e("p",{staticClass:"grey--text"},[t._v("Nothing to see here!")])]):e("div",[e(D,{staticClass:"pa-0 transparent"},t._l(t.paginatedData,function(n,r){return e(m,{key:n.hash,staticClass:"pa-0",class:t.isMobile?"mb-1":"mb-2",on:{mousedown:function(i){t.trcMenu.show=!1},touchstart:function(i){return t.strTouchStart(i,{torrent:n})},touchmove:function(i){return t.strTouchMove(i)},touchend:function(i){return t.strTouchEnd(i)},contextmenu:function(i){return t.showTorrentRightClickMenu(i,{torrent:n})},dblclick:function(i){return i.preventDefault(),t.showInfo(n.hash)}},scopedSlots:t._u([{key:"default",fn:function(){return[e(Ct,[e(Y,{directives:[{name:"show",rawName:"v-show",value:t.selectMode,expression:"selectMode"}],staticClass:"transparent",attrs:{flat:""}},[e(z,[e(Me,{attrs:{color:"grey","input-value":t.selected_torrents.indexOf(n.hash)!==-1},on:{click:function(i){return t.selectTorrent(n.hash)}}})],1)],1)],1),e(ye,{staticClass:"pa-0 rounded"},[e(At,{attrs:{torrent:n,index:r}}),r<t.paginatedData.length-1?e(G,{key:r}):t._e()],1)]},proxy:!0}],null,!0)})}),1),t.topPagination?t._e():e("div",{staticClass:"text-center mb-5"},[t.pageCount>1&&!t.hasSearchFilter?e(tt,{attrs:{length:t.pageCount,"total-visible":7},on:{input:t.toTop},model:{value:t.pageNumber,callback:function(n){t.pageNumber=n},expression:"pageNumber"}}):t._e()],1)],1),e(O,{attrs:{transition:"slide-y-transition","position-x":t.trcMenu.X,"position-y":t.trcMenu.Y,absolute:""},model:{value:t.trcMenu.show,callback:function(n){t.$set(t.trcMenu,"show",n)},expression:"trcMenu.show"}},[t.data?e(Rt,{attrs:{torrent:t.data.torrent,touchmode:t.tmCalc.TouchMode,x:t.trcMenu.X}}):t._e()],1)],1)},Jn=[],Zn=C(Yn,Qn,Jn,!1,null,null,null,null);const rr=Zn.exports;export{rr as default};
