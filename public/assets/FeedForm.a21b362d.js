import{a5 as d,a6 as r,a7 as c,Q as n,s as m,t as _,V as u,v as f,z as p,a as l,a4 as h,E as F,x as i}from"./index.5d643512.js";import{M as v}from"./Modal.1c0dbfc6.js";import{d as x,V as C}from"./vue.7fbf5199.js";import{_ as $}from"./VDialog.dc3b8362.js";import{_ as b}from"./VForm.d160f7b8.js";import{_ as o}from"./VContainer.612dc6d2.js";const g=x({name:"FeedForm",mixins:[v],props:{initialFeed:Object},data:()=>({feed:{url:"",name:""},mdiCancel:d,mdiTagPlus:r,mdiPencil:c}),computed:{hasInitialFeed(){return!!(this.initialFeed&&this.initialFeed.name&&this.initialFeed.url)}},created(){this.hasInitialFeed&&(this.feed={...this.initialFeed})},mounted(){document.addEventListener("keydown",this.handleKeyboardShortcut)},beforeDestroy(){document.removeEventListener("keydown",this.handleKeyboardShortcut)},methods:{create(){n.createFeed(this.feed),this.cancel()},cancel(){this.$store.commit("FETCH_FEEDS"),this.dialog=!1},edit(){n.editFeed(this.initialFeed.name,this.feed.name),C.$toast.success(this.$t("toast.feedSaved")),this.cancel()},handleKeyboardShortcut(s){s.key==="Escape"?this.cancel():s.key==="Enter"&&(this.hasInitialFeed?this.edit():this.create())}}});var y=function(){var e=this,t=e._self._c;return e._self._setupProxy,t($,{attrs:{"content-class":"rounded-form","max-width":"300px"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t(_,[t(u,{staticClass:"pa-0"},[t(f,{staticClass:"ma-4 primarytext--text"},[t("h3",[e._v(e._s(e.hasInitialFeed?e.$t("edit"):e.$t("createNew"))+" "+e._s(e.$t("feed")))])])],1),t(p,[t(b,{ref:"feedForm",staticClass:"px-6 mt-3"},[e.hasInitialFeed?e._e():t(o,[t(l,{attrs:{label:e.$t("modals.newFeed.url"),required:""},model:{value:e.feed.url,callback:function(a){e.$set(e.feed,"url",a)},expression:"feed.url"}})],1),t(o,[t(l,{attrs:{label:e.$t("modals.newFeed.feedName"),required:""},model:{value:e.feed.name,callback:function(a){e.$set(e.feed,"name",a)},expression:"feed.name"}})],1)],1)],1),t(h),t(F,{staticClass:"justify-end"},[e.hasInitialFeed?t(i,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.edit}},[e._v(" "+e._s(e.$t("edit"))+" ")]):t(i,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.create}},[e._v(" "+e._s(e.$t("create"))+" ")]),t(i,{staticClass:"error white--text elevation-0 px-4",on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)],1)},k=[],w=m(g,y,k,!1,null,null,null,null);const P=w.exports;export{P as default};
