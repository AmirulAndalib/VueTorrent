import{M as o,N as r,O as c,Q as s,s as d,t as _,V as m,v as u,z as p,a as n,L as f,E as h,x as i}from"./index-b128ceeb.js";import{d as F}from"./vue-9ef19677.js";import{M as x}from"./Modal-572b592c.js";import{_ as C}from"./VDialog-00de5a0a.js";import{_ as k}from"./VForm-383c2907.js";import{_ as l}from"./VContainer-5b341c4f.js";const y=F({name:"FeedForm",mixins:[x],props:{initialFeed:Object},data:()=>({feed:{url:"",name:""},mdiCancel:o,mdiTagPlus:r,mdiPencil:c}),computed:{hasInitialFeed(){return!!(this.initialFeed&&this.initialFeed.name&&this.initialFeed.url)}},created(){this.hasInitialFeed&&(this.feed={...this.initialFeed})},methods:{async create(){await s.createFeed(this.feed),this.cancel()},cancel(){this.$store.commit("FETCH_FEEDS"),this.dialog=!1},async edit(){await s.editFeed(this.initialFeed.name,this.feed.name),this.$toast.success(this.$t("toast.feedSaved")),this.cancel()}}});var g=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(C,{attrs:{"content-class":"rounded-form","max-width":"300px"},on:{keydown:[function(a){if(!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;a.preventDefault(),e.hasInitialFeed?e.edit:e.create},function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:(a.preventDefault(),e.cancel.apply(null,arguments))}]},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t(_,[t(m,{staticClass:"pa-0"},[t(u,{staticClass:"ma-4 primarytext--text"},[t("h3",[e._v(e._s(e.hasInitialFeed?e.$t("edit"):e.$t("createNew"))+" "+e._s(e.$t("feed")))])])],1),t(p,[t(k,{ref:"feedForm",staticClass:"px-6 mt-3"},[e.hasInitialFeed?e._e():t(l,[t(n,{attrs:{label:e.$t("modals.newFeed.url"),required:""},model:{value:e.feed.url,callback:function(a){e.$set(e.feed,"url",a)},expression:"feed.url"}})],1),t(l,[t(n,{attrs:{label:e.$t("modals.newFeed.feedName"),required:""},model:{value:e.feed.name,callback:function(a){e.$set(e.feed,"name",a)},expression:"feed.name"}})],1)],1)],1),t(f),t(h,{staticClass:"justify-end"},[e.hasInitialFeed?t(i,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.edit}},[e._v(" "+e._s(e.$t("edit"))+" ")]):t(i,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.create}},[e._v(" "+e._s(e.$t("create"))+" ")]),t(i,{staticClass:"error white--text elevation-0 px-4",on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)],1)},v=[],w=d(y,g,v,!1,null,null,null,null);const D=w.exports;export{D as default};
