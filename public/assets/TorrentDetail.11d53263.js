import{B as O,F as T,_ as ye,a as be,f as Se,b as x,c as $e,d as C,e as xe}from"./TagsAndCategories.030ab922.js";import{m as f,C as J,aw as Ce,ax as X,ay as ee,ab as E,az as we,an as w,aA as Te,aB as Pe,aC as Ie,aD as ke,aE as Oe,aF as Ee,aG as De,aH as Ae,aI as g,aJ as H,aK as p,ae as te,a1 as m,_ as h,aL as v,T as M,aq as R,aM as se,aN as l,aO as ie,aP as I,a5 as ne,aQ as ae,M as re,aR as Be,aS as Fe,aT as oe,aU as Le,aV as Ne,aW as Me,aX as Ke,aY as je,a3 as He,aZ as Re,a_ as Ve,am as We,B as b,a$ as Ge,k as Ue,b0 as ze,b1 as qe,av as Ze,aj as Qe,ai as le,b2 as Ye,Q as u,S as y,$ as Je,H as Xe,D as et,E as D,V as A,a as tt,b as st,c as it,d as nt,af as B,ak as F,b3 as at,P as rt,b4 as ot,b5 as lt,b6 as V,b7 as dt,b8 as ct,N as L,a2 as k,ad as W,a4 as G,F as U}from"./index.4a5deb4a.js";import{_ as ht}from"./Peers.6f15ca52.js";import{V as S,m as de}from"./vue.10642814.js";import{_ as pt}from"./VCheckbox.601542a5.js";const z=f(O,J).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...O.options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...O.options.methods.genData.call(this),attrs:{role:"listbox"}})}}});const ut=f(Oe,ke,ee,Ie,Pe,Te),mt=ut.extend({name:"v-dialog",directives:{ClickOutside:Ce},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),(e=this.previousActiveElement)===null||e===void 0||e.focus())},fullscreen(t){!this.isActive||(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&X("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){typeof window<"u"&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):ee.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$nextTick(()=>{var t,e;!((t=this.$refs.dialog)===null||t===void 0)&&t.contains(document.activeElement)||(this.previousActiveElement=document.activeElement,(e=this.$refs.dialog)===null||e===void 0||e.focus()),this.bind()})})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===E.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const e=this.getActivator();this.$nextTick(()=>e&&e.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(!!e&&this.$refs.dialog&&![document,this.$refs.dialog].includes(e)&&!this.$refs.dialog.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(s=>s.contains(e))){const i=[...this.$refs.dialog.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].find(n=>!n.hasAttribute("disabled")&&!n.matches('[tabindex="-1"]'));i&&i.focus()}},genContent(){return this.showLazyContent(()=>[this.$createElement(we,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog","aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])])},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,attrs:{tabindex:this.isActive?0:void 0},ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:w(this.maxWidth),width:w(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":this.attach===""||this.attach===!0||this.attach==="attach"}},[this.genActivator(),this.genContent()])}}),N=S.extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})},sortBy:{type:[String,Array]},sortDesc:{type:[Boolean,Array]},customSort:{type:Function,default:Ee},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:()=>[]},groupDesc:{type:[Boolean,Array],default:()=>[]},customGroup:{type:Function,default:De},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:Ae},serverItemsLength:{type:Number,default:-1}},data(){let t={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:g(this.sortBy),sortDesc:g(this.sortDesc),groupBy:g(this.groupBy),groupDesc:g(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(t=Object.assign(t,this.options));const{sortBy:e,sortDesc:s,groupBy:i,groupDesc:n}=t,a=e.length-s.length,r=i.length-n.length;return a>0&&t.sortDesc.push(...H(a,!1)),r>0&&t.groupDesc.push(...H(r,!1)),{internalOptions:t}},computed:{itemsLength(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart(){return this.internalOptions.itemsPerPage===-1||!this.items.length?0:(this.internalOptions.page-1)*this.internalOptions.itemsPerPage},pageStop(){return this.internalOptions.itemsPerPage===-1?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped(){return!!this.internalOptions.groupBy.length},pagination(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems(){let t=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(t=this.customFilter(t,this.search)),t},computedItems(){let t=this.filteredItems.slice();return(!this.disableSort||this.internalOptions.groupBy.length)&&this.serverItemsLength<=0&&(t=this.sortItems(t)),!this.disablePagination&&this.serverItemsLength<=0&&(t=this.paginateItems(t)),t},groupedItems(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps(){return{sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length}},computedOptions(){return{...this.options}}},watch:{computedOptions:{handler(t,e){p(t,e)||this.updateOptions(t)},deep:!0,immediate:!0},internalOptions:{handler(t,e){p(t,e)||this.$emit("update:options",t)},deep:!0,immediate:!0},page(t){this.updateOptions({page:t})},"internalOptions.page"(t){this.$emit("update:page",t)},itemsPerPage(t){this.updateOptions({itemsPerPage:t})},"internalOptions.itemsPerPage"(t){this.$emit("update:items-per-page",t)},sortBy(t){this.updateOptions({sortBy:g(t)})},"internalOptions.sortBy"(t,e){!p(t,e)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?t:t[0])},sortDesc(t){this.updateOptions({sortDesc:g(t)})},"internalOptions.sortDesc"(t,e){!p(t,e)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?t:t[0])},groupBy(t){this.updateOptions({groupBy:g(t)})},"internalOptions.groupBy"(t,e){!p(t,e)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?t:t[0])},groupDesc(t){this.updateOptions({groupDesc:g(t)})},"internalOptions.groupDesc"(t,e){!p(t,e)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?t:t[0])},multiSort(t){this.updateOptions({multiSort:t})},"internalOptions.multiSort"(t){this.$emit("update:multi-sort",t)},mustSort(t){this.updateOptions({mustSort:t})},"internalOptions.mustSort"(t){this.$emit("update:must-sort",t)},pageCount:{handler(t){this.$emit("page-count",t)},immediate:!0},computedItems:{handler(t){this.$emit("current-items",t)},immediate:!0},pagination:{handler(t,e){p(t,e)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle(t,e,s,i,n,a){let r=e.slice(),o=s.slice();const d=r.findIndex(c=>c===t);return d<0?(a||(r=[],o=[]),r.push(t),o.push(!1)):d>=0&&!o[d]?o[d]=!0:n?o[d]=!1:(r.splice(d,1),o.splice(d,1)),(!p(r,e)||!p(o,s))&&(i=1),{by:r,desc:o,page:i}},group(t){const{by:e,desc:s,page:i}=this.toggle(t,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1);this.updateOptions({groupBy:e,groupDesc:s,page:i})},sort(t){if(Array.isArray(t))return this.sortArray(t);const{by:e,desc:s,page:i}=this.toggle(t,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort);this.updateOptions({sortBy:e,sortDesc:s,page:i})},sortArray(t){const e=t.map(s=>{const i=this.internalOptions.sortBy.findIndex(n=>n===s);return i>-1?this.internalOptions.sortDesc[i]:!1});this.updateOptions({sortBy:t,sortDesc:e})},updateOptions(t){this.internalOptions={...this.internalOptions,...t,page:this.serverItemsLength<0?Math.max(1,Math.min(t.page||this.internalOptions.page,this.pageCount)):t.page||this.internalOptions.page}},sortItems(t){let e=[],s=[];return this.disableSort||(e=this.internalOptions.sortBy,s=this.internalOptions.sortDesc),this.internalOptions.groupBy.length&&(e=[...this.internalOptions.groupBy,...e],s=[...this.internalOptions.groupDesc,...s]),this.customSort(t,e,s,this.locale)},groupItems(t){return this.customGroup(t,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems(t){return this.serverItemsLength===-1&&t.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,Math.ceil(t.length/this.internalOptions.itemsPerPage))||1),t.slice(this.pageStart,this.pageStop)}},render(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}});const ce=S.extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:()=>[5,10,15,-1]},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon(){return this.options.itemsPerPage<=0||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||this.pagination.pageStop<0},computedDataItemsPerPageOptions(){return this.itemsPerPageOptions.map(t=>typeof t=="object"?t:this.genDataItemsPerPageOption(t))}},methods:{updateOptions(t){this.$emit("update:options",Object.assign({},this.options,t))},onFirstPage(){this.updateOptions({page:1})},onPreviousPage(){this.updateOptions({page:this.options.page-1})},onNextPage(){this.updateOptions({page:this.options.page+1})},onLastPage(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage(t){this.updateOptions({itemsPerPage:t,page:1})},genDataItemsPerPageOption(t){return{text:t===-1?this.$vuetify.lang.t(this.itemsPerPageAllText):String(t),value:t}},genItemsPerPageSelect(){let t=this.options.itemsPerPage;const e=this.computedDataItemsPerPageOptions;return e.length<=1?null:(e.find(s=>s.value===t)||(t=e[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(te,{attrs:{"aria-label":this.$vuetify.lang.t(this.itemsPerPageText)},props:{disabled:this.disableItemsPerPage,items:e,value:t,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo(){let t=["\u2013"];const e=this.pagination.itemsLength;let s=this.pagination.pageStart,i=this.pagination.pageStop;return this.pagination.itemsLength&&this.pagination.itemsPerPage?(s=this.pagination.pageStart+1,i=e<this.pagination.pageStop||this.pagination.pageStop<0?e:this.pagination.pageStop,t=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:s,pageStop:i,itemsLength:e})]:[this.$vuetify.lang.t(this.pageText,s,i,e)]):this.$scopedSlots["page-text"]&&(t=[this.$scopedSlots["page-text"]({pageStart:s,pageStop:i,itemsLength:e})]),this.$createElement("div",{class:"v-data-footer__pagination"},t)},genIcon(t,e,s,i){return this.$createElement(m,{props:{disabled:e||this.disablePagination,icon:!0,text:!0},on:{click:t},attrs:{"aria-label":s}},[this.$createElement(h,i)])},genIcons(){const t=[],e=[];return t.push(this.genIcon(this.onPreviousPage,this.options.page===1,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),e.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(t.unshift(this.genIcon(this.onFirstPage,this.options.page===1,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),e.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||this.options.itemsPerPage===-1,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},t),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},e)]}},render(){return this.$createElement("div",{staticClass:"v-data-footer"},[v(this,"prepend"),this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}}),q=f(R,M).extend({name:"v-data-iterator",props:{...N.options.props,itemKey:{type:String,default:"id"},value:{type:Array,default:()=>[]},singleSelect:Boolean,expanded:{type:Array,default:()=>[]},mobileBreakpoint:{...R.options.props.mobileBreakpoint,default:600},singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}},data:()=>({selection:{},expansion:{},internalCurrentItems:[],shiftKeyDown:!1,lastEntry:-1}),computed:{everyItem(){return!!this.selectableItems.length&&this.selectableItems.every(t=>this.isSelected(t))},someItems(){return this.selectableItems.some(t=>this.isSelected(t))},sanitizedFooterProps(){return se(this.footerProps)},selectableItems(){return this.internalCurrentItems.filter(t=>this.isSelectable(t))}},watch:{value:{handler(t){this.selection=t.reduce((e,s)=>(e[l(s,this.itemKey)]=s,e),{})},immediate:!0},selection(t,e){p(Object.keys(t),Object.keys(e))||this.$emit("input",Object.values(t))},expanded:{handler(t){this.expansion=t.reduce((e,s)=>(e[l(s,this.itemKey)]=!0,e),{})},immediate:!0},expansion(t,e){if(p(t,e))return;const s=Object.keys(t).filter(n=>t[n]),i=s.length?this.items.filter(n=>s.includes(String(l(n,this.itemKey)))):[];this.$emit("update:expanded",i)}},created(){[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]].forEach(([s,i])=>{this.$attrs.hasOwnProperty(s)&&ie(s,i,this)}),["expand","content-class","content-props","content-tag"].forEach(s=>{this.$attrs.hasOwnProperty(s)&&X(s)})},mounted(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},methods:{onKeyDown(t){t.keyCode===E.shift&&(this.shiftKeyDown=!0)},onKeyUp(t){t.keyCode===E.shift&&(this.shiftKeyDown=!1)},toggleSelectAll(t){const e=Object.assign({},this.selection);for(let s=0;s<this.selectableItems.length;s++){const i=this.selectableItems[s];if(!this.isSelectable(i))continue;const n=l(i,this.itemKey);t?e[n]=i:delete e[n]}this.selection=e,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:t})},isSelectable(t){return l(t,this.selectableKey)!==!1},isSelected(t){return!!this.selection[l(t,this.itemKey)]||!1},select(t,e=!0,s=!0){if(!this.isSelectable(t))return;const i=this.singleSelect?{}:Object.assign({},this.selection),n=l(t,this.itemKey);e?i[n]=t:delete i[n];const a=this.selectableItems.findIndex(r=>l(r,this.itemKey)===n);if(this.lastEntry===-1)this.lastEntry=a;else if(this.shiftKeyDown&&!this.singleSelect&&s){const r=l(this.selectableItems[this.lastEntry],this.itemKey),o=Object.keys(this.selection).includes(String(r));this.multipleSelect(o,s,i,a)}if(this.lastEntry=a,this.singleSelect&&s){const r=Object.keys(this.selection),o=r.length&&l(this.selection[r[0]],this.itemKey);o&&o!==n&&this.$emit("item-selected",{item:this.selection[o],value:!1})}this.selection=i,s&&this.$emit("item-selected",{item:t,value:e})},multipleSelect(t=!0,e=!0,s,i){const n=i<this.lastEntry?i:this.lastEntry,a=i<this.lastEntry?this.lastEntry:i;for(let r=n;r<=a;r++){const o=this.selectableItems[r],d=l(o,this.itemKey);t?s[d]=o:delete s[d],e&&this.$emit("item-selected",{currentItem:o,value:t})}},isExpanded(t){return this.expansion[l(t,this.itemKey)]||!1},expand(t,e=!0){const s=this.singleExpand?{}:Object.assign({},this.expansion),i=l(t,this.itemKey);e?s[i]=!0:delete s[i],this.expansion=s,this.$emit("item-expanded",{item:t,value:e})},createItemProps(t,e){return{item:t,index:e,select:s=>this.select(t,s),isSelected:this.isSelected(t),expand:s=>this.expand(t,s),isExpanded:this.isExpanded(t),isMobile:this.isMobile}},genEmptyWrapper(t){return this.$createElement("div",t)},genEmpty(t,e){if(t===0&&this.loading){const s=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(s)}else if(t===0){const s=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(s)}else if(e===0){const s=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(s)}return null},genItems(t){const e=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return e?[e]:this.$scopedSlots.default?this.$scopedSlots.default({...t,isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,isMobile:this.isMobile,expand:this.expand}):this.$scopedSlots.item?t.items.map((s,i)=>this.$scopedSlots.item(this.createItemProps(s,i))):[]},genFooter(t){if(this.hideDefaultFooter)return null;const e={props:{...this.sanitizedFooterProps,options:t.options,pagination:t.pagination},on:{"update:options":i=>t.updateOptions(i)}},s=I("footer.",this.$scopedSlots);return this.$createElement(ce,{scopedSlots:s,...e})},genDefaultScopedSlot(t){const e={...t,someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll};return this.$createElement("div",{staticClass:"v-data-iterator"},[v(this,"header",e,!0),this.genItems(t),this.genFooter(t),v(this,"footer",e,!0)])}},render(){return this.$createElement(N,{props:this.$props,on:{"update:options":(t,e)=>!p(t,e)&&this.$emit("update:options",t),"update:page":t=>this.$emit("update:page",t),"update:items-per-page":t=>this.$emit("update:items-per-page",t),"update:sort-by":t=>this.$emit("update:sort-by",t),"update:sort-desc":t=>this.$emit("update:sort-desc",t),"update:group-by":t=>this.$emit("update:group-by",t),"update:group-desc":t=>this.$emit("update:group-desc",t),pagination:(t,e)=>!p(t,e)&&this.$emit("pagination",t),"current-items":t=>{this.internalCurrentItems=t,this.$emit("current-items",t)},"page-count":t=>this.$emit("page-count",t)},scopedSlots:{default:this.genDefaultScopedSlot}})}});const K=f().extend({directives:{ripple:ne},props:{headers:{type:Array,default:()=>[]},options:{type:Object,default:()=>({page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1})},checkboxColor:String,sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll(){var t;const e={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems,color:(t=this.checkboxColor)!==null&&t!==void 0?t:""},on:{input:s=>this.$emit("toggle-select-all",s)}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](e):this.$createElement(ae,{staticClass:"v-data-table__checkbox",...e})},genSortIcon(){return this.$createElement(h,{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}}),gt=f(K).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip(t){const e=[t.item.text],s=this.options.sortBy.findIndex(a=>a===t.item.value),i=s>=0,n=this.options.sortDesc[s];return e.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:i,asc:i&&!n,desc:i&&n}},[this.genSortIcon()])),this.$createElement(re,{staticClass:"sortable",on:{click:a=>{a.stopPropagation(),this.$emit("sort",t.item.value)}}},e)},genSortSelect(t){return this.$createElement(te,{props:{label:this.$vuetify.lang.t(this.sortByText),items:t,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],menuProps:{closeOnContentClick:!0}},on:{change:e=>this.$emit("sort",e)},scopedSlots:{selection:e=>this.genSortChip(e)}})}},render(t){const e=[],s=this.headers.find(r=>r.value==="data-table-select");s&&!this.singleSelect&&e.push(this.$createElement("div",{class:["v-data-table-header-mobile__select",...g(s.class)],attrs:{width:s.width}},[this.genSelectAll()]));const i=this.headers.filter(r=>r.sortable!==!1&&r.value!=="data-table-select").map(r=>({text:r.text,value:r.value}));!this.disableSort&&i.length&&e.push(this.genSortSelect(i));const n=e.length?t("th",[t("div",{staticClass:"v-data-table-header-mobile__wrapper"},e)]):void 0,a=t("tr",[n]);return t("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[a])}}),ft=f(K).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle(t){return this.$createElement("span",{on:{click:e=>{e.stopPropagation(),this.$emit("group",t.value)}}},["group"])},getAria(t,e){const s=a=>this.$vuetify.lang.t(`$vuetify.dataTable.ariaLabel.${a}`);let i="none",n=[s("sortNone"),s("activateAscending")];return t?(e?(i="descending",n=[s("sortDescending"),s(this.options.mustSort?"activateAscending":"activateNone")]):(i="ascending",n=[s("sortAscending"),s("activateDescending")]),{ariaSort:i,ariaLabel:n.join(" ")}):{ariaSort:i,ariaLabel:n.join(" ")}},genHeader(t){const e={attrs:{role:"columnheader",scope:"col","aria-label":t.text||""},style:{width:w(t.width),minWidth:w(t.width)},class:[`text-${t.align||"start"}`,...g(t.class),t.divider&&"v-data-table__divider"],on:{}},s=[];if(t.value==="data-table-select"&&!this.singleSelect)return this.$createElement("th",e,[this.genSelectAll()]);if(s.push(this.$scopedSlots.hasOwnProperty(t.value)?this.$scopedSlots[t.value]({header:t}):this.$createElement("span",[t.text])),!this.disableSort&&(t.sortable||!t.hasOwnProperty("sortable"))){e.on.click=()=>this.$emit("sort",t.value);const i=this.options.sortBy.findIndex(d=>d===t.value),n=i>=0,a=this.options.sortDesc[i];e.class.push("sortable");const{ariaLabel:r,ariaSort:o}=this.getAria(n,a);e.attrs["aria-label"]+=`${t.text?": ":""}${r}`,e.attrs["aria-sort"]=o,n&&(e.class.push("active"),e.class.push(a?"desc":"asc")),t.align==="end"?s.unshift(this.genSortIcon()):s.push(this.genSortIcon()),this.options.multiSort&&n&&s.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[String(i+1)]))}return this.showGroupBy&&t.groupable!==!1&&s.push(this.genGroupByToggle(t)),this.$createElement("th",e,s)}},render(){return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map(t=>this.genHeader(t)))])}});function _t(t){if(t.model&&t.on&&t.on.input)if(Array.isArray(t.on.input)){const e=t.on.input.indexOf(t.model.callback);e>-1&&t.on.input.splice(e,1)}else delete t.on.input}function vt(t,e){const s=[];for(const i in t)t.hasOwnProperty(i)&&s.push(e("template",{slot:i},t[i]));return s}const yt=S.extend({name:"v-data-table-header",functional:!0,props:{...K.options.props,mobile:Boolean},render(t,{props:e,data:s,slots:i}){_t(s);const n=vt(i(),t);return s=Be(s,{props:e}),e.mobile?t(gt,s,n):t(ft,s,n)}});function bt(t){var e;return t.length!==1||!["td","th"].includes((e=t[0])===null||e===void 0?void 0:e.tag)}const St=S.extend({name:"row",functional:!0,props:{headers:Array,index:Number,item:Object,rtl:Boolean},render(t,{props:e,slots:s,data:i}){const n=s(),a=e.headers.map(r=>{const o=[],d=l(e.item,r.value),c=r.value,_=i.scopedSlots&&i.scopedSlots.hasOwnProperty(c)&&i.scopedSlots[c],$=n.hasOwnProperty(c)&&n[c];_?o.push(...g(_({item:e.item,isMobile:!1,header:r,index:e.index,value:d}))):$?o.push(...g($)):o.push(d==null?d:String(d));const P=`text-${r.align||"start"}`;return bt(o)?t("td",{class:[P,r.cellClass,{"v-data-table__divider":r.divider}]},o):o});return t("tr",i,a)}}),Z=S.extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render(t,{slots:e,props:s}){const i=e(),n=[];return i["column.header"]?n.push(t("tr",{staticClass:s.headerClass},i["column.header"])):i["row.header"]&&n.push(...i["row.header"]),i["row.content"]&&s.value&&n.push(...i["row.content"]),i["column.summary"]?n.push(t("tr",{staticClass:s.summaryClass},i["column.summary"])):i["row.summary"]&&n.push(...i["row.summary"]),n}});const he=f(M).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:w(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}}),$t=S.extend({name:"row",functional:!0,props:{headers:Array,hideDefaultHeader:Boolean,index:Number,item:Object,rtl:Boolean},render(t,{props:e,slots:s,data:i}){const n=s(),a=e.headers.map(r=>{const o={"v-data-table__mobile-row":!0},d=[],c=l(e.item,r.value),_=r.value,$=i.scopedSlots&&i.scopedSlots.hasOwnProperty(_)&&i.scopedSlots[_],P=n.hasOwnProperty(_)&&n[_];$?d.push($({item:e.item,isMobile:!0,header:r,index:e.index,value:c})):P?d.push(P):d.push(c==null?c:String(c));const j=[t("div",{staticClass:"v-data-table__mobile-row__cell"},d)];return r.value!=="dataTableSelect"&&!e.hideDefaultHeader&&j.unshift(t("div",{staticClass:"v-data-table__mobile-row__header"},[r.text])),t("td",{class:o},j)});return t("tr",{...i,staticClass:"v-data-table__mobile-table-row"},a)}});function Q(t,e,s){return i=>{const n=l(t,i.value);return i.filter?i.filter(n,e,t):s(n,e,t)}}function xt(t,e,s,i,n){return e=typeof e=="string"?e.trim():null,t.filter(a=>{const r=s.every(Q(a,e,oe)),o=!e||i.some(Q(a,e,n));return r&&o})}const pe=f(q,Fe).extend({name:"v-data-table",directives:{ripple:ne},props:{headers:{type:Array,default:()=>[]},showSelect:Boolean,checkboxColor:String,showExpand:Boolean,showGroupBy:Boolean,height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:oe},itemClass:{type:[String,Function],default:()=>""},loaderHeight:{type:[Number,String],default:4}},data(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders(){if(!this.headers)return[];const t=this.headers.filter(s=>s.value===void 0||!this.internalGroupBy.find(i=>i===s.value)),e={text:"",sortable:!1,width:"1px"};if(this.showSelect){const s=t.findIndex(i=>i.value==="data-table-select");s<0?t.unshift({...e,value:"data-table-select"}):t.splice(s,1,{...e,...t[s]})}if(this.showExpand){const s=t.findIndex(i=>i.value==="data-table-expand");s<0?t.unshift({...e,value:"data-table-expand"}):t.splice(s,1,{...e,...t[s]})}return t},colspanAttrs(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},columnSorters(){return this.computedHeaders.reduce((t,e)=>(e.sort&&(t[e.value]=e.sort),t),{})},headersWithCustomFilters(){return this.headers.filter(t=>t.filter&&(!t.hasOwnProperty("filterable")||t.filterable===!0))},headersWithoutCustomFilters(){return this.headers.filter(t=>!t.filter&&(!t.hasOwnProperty("filterable")||t.filterable===!0))},sanitizedHeaderProps(){return se(this.headerProps)},computedItemsPerPage(){const t=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,e=this.sanitizedFooterProps.itemsPerPageOptions;if(e&&!e.find(s=>typeof s=="number"?s===t:s.value===t)){const s=e[0];return typeof s=="object"?s.value:s}return t},groupByText(){var t,e,s;return(s=(e=(t=this.headers)===null||t===void 0?void 0:t.find(i=>{var n;return i.value===((n=this.internalGroupBy)===null||n===void 0?void 0:n[0])}))===null||e===void 0?void 0:e.text)!==null&&s!==void 0?s:""}},created(){[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]].forEach(([e,s])=>{this.$attrs.hasOwnProperty(e)&&ie(e,s,this)})},mounted(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths(){this.widths=Array.from(this.$el.querySelectorAll("th")).map(t=>t.clientWidth)},customFilterWithColumns(t,e){return xt(t,e,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders(t,e,s,i){return this.customSort(t,e,s,i,this.columnSorters)},createItemProps(t,e){const s=q.options.methods.createItemProps.call(this,t,e);return Object.assign(s,{headers:this.computedHeaders})},genCaption(t){return this.caption?[this.$createElement("caption",[this.caption])]:v(this,"caption",t,!0)},genColgroup(t){return this.$createElement("colgroup",this.computedHeaders.map(e=>this.$createElement("col",{class:{divider:e.divider}})))},genLoading(){const t=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[this.genProgress()]),e=this.$createElement("tr",{staticClass:"v-data-table__progress"},[t]);return this.$createElement("thead",[e])},genHeaders(t){const e={props:{...this.sanitizedHeaderProps,headers:this.computedHeaders,options:t.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,checkboxColor:this.checkboxColor,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort},on:{sort:t.sort,group:t.group,"toggle-select-all":this.toggleSelectAll}},s=[v(this,"header",{...e,isMobile:this.isMobile})];if(!this.hideDefaultHeader){const i=I("header.",this.$scopedSlots);s.push(this.$createElement(yt,{...e,scopedSlots:i}))}return this.loading&&s.push(this.genLoading()),s},genEmptyWrapper(t){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},t)])},genItems(t,e){const s=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return s?[s]:e.groupedItems?this.genGroupedRows(e.groupedItems,e):this.genRows(t,e)},genGroupedRows(t,e){return t.map(s=>(this.openCache.hasOwnProperty(s.name)||this.$set(this.openCache,s.name,!0),this.$scopedSlots.group?this.$scopedSlots.group({group:s.name,options:e.options,isMobile:this.isMobile,items:s.items,headers:this.computedHeaders}):this.genDefaultGroupedRow(s.name,s.items,e)))},genDefaultGroupedRow(t,e,s){const i=!!this.openCache[t],n=[this.$createElement("template",{slot:"row.content"},this.genRows(e,s))],a=()=>this.$set(this.openCache,t,!this.openCache[t]),r=()=>s.updateOptions({groupBy:[],groupDesc:[]});if(this.$scopedSlots["group.header"])n.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:t,groupBy:s.options.groupBy,isMobile:this.isMobile,items:e,headers:this.computedHeaders,isOpen:i,toggle:a,remove:r})]));else{const o=this.$createElement(m,{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:a}},[this.$createElement(h,[i?"$minus":"$plus"])]),d=this.$createElement(m,{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:r}},[this.$createElement(h,["$close"])]),c=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[o,`${this.groupByText}: ${t}`,d]);n.unshift(this.$createElement("template",{slot:"column.header"},[c]))}return this.$scopedSlots["group.summary"]&&n.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:t,groupBy:s.options.groupBy,isMobile:this.isMobile,items:e,headers:this.computedHeaders,isOpen:i,toggle:a})])),this.$createElement(Z,{key:t,props:{value:i}},n)},genRows(t,e){return this.$scopedSlots.item?this.genScopedRows(t,e):this.genDefaultRows(t,e)},genScopedRows(t,e){const s=[];for(let i=0;i<t.length;i++){const n=t[i];s.push(this.$scopedSlots.item({...this.createItemProps(n,i),isMobile:this.isMobile})),this.isExpanded(n)&&s.push(this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,index:i,item:n}))}return s},genDefaultRows(t,e){return this.$scopedSlots["expanded-item"]?t.map((s,i)=>this.genDefaultExpandedRow(s,i)):t.map((s,i)=>this.genDefaultSimpleRow(s,i))},genDefaultExpandedRow(t,e){const s=this.isExpanded(t),i={"v-data-table__expanded v-data-table__expanded__row":s},n=this.genDefaultSimpleRow(t,e,i),a=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,item:t})]);return this.$createElement(Z,{props:{value:s}},[this.$createElement("template",{slot:"row.header"},[n]),this.$createElement("template",{slot:"row.content"},[a])])},genDefaultSimpleRow(t,e,s={}){const i=I("item.",this.$scopedSlots),n=this.createItemProps(t,e);if(this.showSelect){const a=i["data-table-select"];i["data-table-select"]=a?()=>a({...n,isMobile:this.isMobile}):()=>{var r;return this.$createElement(ae,{staticClass:"v-data-table__checkbox",props:{value:n.isSelected,disabled:!this.isSelectable(t),color:(r=this.checkboxColor)!==null&&r!==void 0?r:""},on:{input:o=>n.select(o)}})}}if(this.showExpand){const a=i["data-table-expand"];i["data-table-expand"]=a?()=>a(n):()=>this.$createElement(h,{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":n.isExpanded},on:{click:r=>{r.stopPropagation(),n.expand(!n.isExpanded)}}},[this.expandIcon])}return this.$createElement(this.isMobile?$t:St,{key:l(t,this.itemKey),class:Le({...s,"v-data-table__selected":n.isSelected},Ne(t,this.itemClass)),props:{headers:this.computedHeaders,hideDefaultHeader:this.hideDefaultHeader,index:e,item:t,rtl:this.$vuetify.rtl},scopedSlots:i,on:{click:()=>this.$emit("click:row",t,n),contextmenu:a=>this.$emit("contextmenu:row",a,n),dblclick:a=>this.$emit("dblclick:row",a,n)}})},genBody(t){const e={...t,expand:this.expand,headers:this.computedHeaders,isExpanded:this.isExpanded,isMobile:this.isMobile,isSelected:this.isSelected,select:this.select};return this.$scopedSlots.body?this.$scopedSlots.body(e):this.$createElement("tbody",[v(this,"body.prepend",e,!0),this.genItems(t.items,t),v(this,"body.append",e,!0)])},genFoot(t){var e,s;return(s=(e=this.$scopedSlots).foot)===null||s===void 0?void 0:s.call(e,t)},genFooters(t){const e={props:{options:t.options,pagination:t.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText",...this.sanitizedFooterProps},on:{"update:options":i=>t.updateOptions(i)},widths:this.widths,headers:this.computedHeaders},s=[v(this,"footer",e,!0)];return this.hideDefaultFooter||s.push(this.$createElement(ce,{...e,scopedSlots:I("footer.",this.$scopedSlots)})),s},genDefaultScopedSlot(t){const e={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(he,{props:e,class:{"v-data-table--mobile":this.isMobile}},[this.proxySlot("top",v(this,"top",{...t,isMobile:this.isMobile},!0)),this.genCaption(t),this.genColgroup(t),this.genHeaders(t),this.genBody(t),this.genFoot(t),this.proxySlot("bottom",this.genFooters(t))])},proxySlot(t,e){return this.$createElement("template",{slot:t},e)}},render(){return this.$createElement(N,{props:{...this.$props,customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage},on:{"update:options":(t,e)=>{this.internalGroupBy=t.groupBy||[],!p(t,e)&&this.$emit("update:options",t)},"update:page":t=>this.$emit("update:page",t),"update:items-per-page":t=>this.$emit("update:items-per-page",t),"update:sort-by":t=>this.$emit("update:sort-by",t),"update:sort-desc":t=>this.$emit("update:sort-desc",t),"update:group-by":t=>this.$emit("update:group-by",t),"update:group-desc":t=>this.$emit("update:group-desc",t),pagination:(t,e)=>!p(t,e)&&this.$emit("pagination",t),"current-items":t=>{this.internalCurrentItems=t,this.$emit("current-items",t)},"page-count":t=>this.$emit("page-count",t)},scopedSlots:{default:this.genDefaultScopedSlot}})}});Me("v-table__overflow");const Ct=f(J,Ke("treeview")),ue={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},disablePerNode:Boolean,expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:t=>["leaf","independent"].includes(t)}},me=Ct.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:{level:Number,item:{type:Object,default:()=>null},parentIsDisabled:Boolean,...ue},data:()=>({hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}),computed:{disabled(){return l(this.item,this.itemDisabled)||!this.disablePerNode&&this.parentIsDisabled&&this.selectionType==="leaf"},key(){return l(this.item,this.itemKey)},children(){const t=l(this.item,this.itemChildren);return t&&t.filter(e=>!this.treeview.isExcluded(l(e,this.itemKey)))},text(){return l(this.item,this.itemText)},scopedProps(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created(){this.treeview.register(this)},beforeDestroy(){this.treeview.unregister(this)},methods:{checkChildren(){return new Promise(t=>{if(!this.children||this.children.length||!this.loadChildren||this.hasLoaded)return t();this.isLoading=!0,t(this.loadChildren(this.item))}).then(()=>{this.isLoading=!1,this.hasLoaded=!0})},open(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel(){const t=[];return this.$scopedSlots.label?t.push(this.$scopedSlots.label(this.scopedProps)):t.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},t)},genPrependSlot(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent(){const t=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},t)},genToggle(){return this.$createElement(h,{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:t=>{t.stopPropagation(),!this.isLoading&&this.checkChildren().then(()=>this.open())}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox(){return this.$createElement(h,{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:t=>{t.stopPropagation(),!this.isLoading&&this.checkChildren().then(()=>{this.$nextTick(()=>{this.isSelected=!this.isSelected,this.isIndeterminate=!1,this.treeview.updateSelected(this.key,this.isSelected),this.treeview.emitSelected()})})}}},[this.computedIcon])},genLevel(t){return je(t).map(()=>this.$createElement("div",{staticClass:"v-treeview-node__level"}))},genNode(){const t=[this.genContent()];return this.selectable&&t.unshift(this.genCheckbox()),this.hasChildren?t.unshift(this.genToggle()):t.unshift(...this.genLevel(1)),t.unshift(...this.genLevel(this.level)),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:{[this.activeClass]:this.isActive},on:{click:()=>{this.openOnClick&&this.hasChildren?this.checkChildren().then(this.open):this.activatable&&!this.disabled&&(this.isActive=!this.isActive,this.treeview.updateActive(this.key,this.isActive),this.treeview.emitActive())}}}),t)},genChild(t,e){return this.$createElement(me,{key:l(t,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:t,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,disablePerNode:this.disablePerNode,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:e},scopedSlots:this.$scopedSlots})},genChildrenWrapper(){if(!this.isOpen||!this.children)return null;const t=[this.children.map(e=>this.genChild(e,this.disabled))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},t)},genTransition(){return this.$createElement(He,[this.genChildrenWrapper()])}},render(t){const e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),t("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},e)}}),wt=me;function Tt(t,e,s){return l(t,s).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}function ge(t,e,s,i,n,a,r){if(t(e,s,n))return!0;const o=l(e,a);if(o){let d=!1;for(let c=0;c<o.length;c++)ge(t,o[c],s,i,n,a,r)&&(d=!0);if(d)return!0}return r.add(l(e,i)),!1}const Pt=f(Re("treeview"),M).extend({name:"v-treeview",provide(){return{treeview:this}},props:{active:{type:Array,default:()=>[]},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:()=>[]},multipleActive:Boolean,open:{type:Array,default:()=>[]},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:()=>[]},...ue},data:()=>({level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}),computed:{excludedItems(){const t=new Set;if(!this.search)return t;for(let e=0;e<this.items.length;e++)ge(this.filter||Tt,this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,t);return t}},watch:{items:{handler(){const t=Object.keys(this.nodes).map(n=>l(this.nodes[n].item,this.itemKey)),e=this.getKeys(this.items),s=Ve(e,t);if(!s.length&&e.length<t.length)return;s.forEach(n=>delete this.nodes[n]);const i=[...this.selectedCache];this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),p(i,[...this.selectedCache])||this.emitSelected()},deep:!0},active(t){this.handleNodeCacheWatcher(t,this.activeCache,this.updateActive,this.emitActive)},value(t){this.handleNodeCacheWatcher(t,this.selectedCache,this.updateSelected,this.emitSelected)},open(t){this.handleNodeCacheWatcher(t,this.openCache,this.updateOpen,this.emitOpen)}},created(){const t=e=>this.returnObject?l(e,this.itemKey):e;this.buildTree(this.items);for(const e of this.value.map(t))this.updateSelected(e,!0,!0);for(const e of this.active.map(t))this.updateActive(e,!0)},mounted(){(this.$slots.prepend||this.$slots.append)&&We("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach(t=>this.updateOpen(this.returnObject?l(t,this.itemKey):t,!0)),this.emitOpen())},methods:{updateAll(t){Object.keys(this.nodes).forEach(e=>this.updateOpen(l(this.nodes[e].item,this.itemKey),t)),this.emitOpen()},getKeys(t,e=[]){for(let s=0;s<t.length;s++){const i=l(t[s],this.itemKey);e.push(i);const n=l(t[s],this.itemChildren);n&&e.push(...this.getKeys(n))}return e},buildTree(t,e=null){var s;for(let i=0;i<t.length;i++){const n=t[i],a=l(n,this.itemKey),r=(s=l(n,this.itemChildren))!==null&&s!==void 0?s:[],o=this.nodes.hasOwnProperty(a)?this.nodes[a]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},d={vnode:o.vnode,parent:e,children:r.map(c=>l(c,this.itemKey)),item:n};if(this.buildTree(r,a),this.selectionType!=="independent"&&e!==null&&!this.nodes.hasOwnProperty(a)&&this.nodes.hasOwnProperty(e)?d.isSelected=this.nodes[e].isSelected:(d.isSelected=o.isSelected,d.isIndeterminate=o.isIndeterminate),d.isActive=o.isActive,d.isOpen=o.isOpen,this.nodes[a]=d,r.length&&this.selectionType!=="independent"){const{isSelected:c,isIndeterminate:_}=this.calculateState(a,this.nodes);d.isSelected=c,d.isIndeterminate=_}this.nodes[a].isSelected&&(this.selectionType==="independent"||d.children.length===0)&&this.selectedCache.add(a),this.nodes[a].isActive&&this.activeCache.add(a),this.nodes[a].isOpen&&this.openCache.add(a),this.updateVnodeState(a)}},calculateState(t,e){const s=e[t].children,i=s.reduce((r,o)=>(r[0]+=+Boolean(e[o].isSelected),r[1]+=+Boolean(e[o].isIndeterminate),r),[0,0]),n=!!s.length&&i[0]===s.length,a=!n&&(i[0]>0||i[1]>0);return{isSelected:n,isIndeterminate:a}},emitOpen(){this.emitNodeCache("update:open",this.openCache)},emitSelected(){this.emitNodeCache("input",this.selectedCache)},emitActive(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache(t,e){this.$emit(t,this.returnObject?[...e].map(s=>this.nodes[s].item):[...e])},handleNodeCacheWatcher(t,e,s,i){t=this.returnObject?t.map(a=>l(a,this.itemKey)):t;const n=[...e];p(n,t)||(n.forEach(a=>s(a,!1)),t.forEach(a=>s(a,!0)),i())},getDescendants(t,e=[]){const s=this.nodes[t].children;e.push(...s);for(let i=0;i<s.length;i++)e=this.getDescendants(s[i],e);return e},getParents(t){let e=this.nodes[t].parent;const s=[];for(;e!==null;)s.push(e),e=this.nodes[e].parent;return s},register(t){const e=l(t.item,this.itemKey);this.nodes[e].vnode=t,this.updateVnodeState(e)},unregister(t){const e=l(t.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},isParent(t){return this.nodes[t].children&&this.nodes[t].children.length},updateActive(t,e){if(!this.nodes.hasOwnProperty(t))return;this.multipleActive||this.activeCache.forEach(i=>{this.nodes[i].isActive=!1,this.updateVnodeState(i),this.activeCache.delete(i)});const s=this.nodes[t];!s||(e?this.activeCache.add(t):this.activeCache.delete(t),s.isActive=e,this.updateVnodeState(t))},updateSelected(t,e,s=!1){if(!this.nodes.hasOwnProperty(t))return;const i=new Map;if(this.selectionType!=="independent"){for(const a of this.getDescendants(t))(!l(this.nodes[a].item,this.itemDisabled)||s)&&(this.nodes[a].isSelected=e,this.nodes[a].isIndeterminate=!1,i.set(a,e));const n=this.calculateState(t,this.nodes);this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=n.isIndeterminate,i.set(t,e);for(const a of this.getParents(t)){const r=this.calculateState(a,this.nodes);this.nodes[a].isSelected=r.isSelected,this.nodes[a].isIndeterminate=r.isIndeterminate,i.set(a,r.isSelected)}}else this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=!1,i.set(t,e);for(const[n,a]of i.entries())this.updateVnodeState(n),!(this.selectionType==="leaf"&&this.isParent(n))&&(a===!0?this.selectedCache.add(n):this.selectedCache.delete(n))},updateOpen(t,e){if(!this.nodes.hasOwnProperty(t))return;const s=this.nodes[t],i=l(s.item,this.itemChildren);i&&!i.length&&s.vnode&&!s.vnode.hasLoaded?s.vnode.checkChildren().then(()=>this.updateOpen(t,e)):i&&i.length&&(s.isOpen=e,s.isOpen?this.openCache.add(t):this.openCache.delete(t),this.updateVnodeState(t))},updateVnodeState(t){const e=this.nodes[t];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded(t){return!!this.search&&this.excludedItems.has(t)}},render(t){const e=this.items.length?this.items.filter(s=>!this.isExcluded(l(s,this.itemKey))).map(s=>wt.options.methods.genChild.bind(this)(s,this.disabled||l(s,this.itemDisabled))):this.$slots.default;return t("div",{staticClass:"v-treeview",class:{"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense,...this.themeClasses}},e)}}),Y=[{name:"max",icon:tt,value:7},{name:"high",icon:st,value:6},{name:"normal",icon:it,value:1},{name:"unwanted",icon:nt,value:0}],It={name:"Content",filters:{priority(t){if(t===4)return"normal";const e=Y.find(s=>s.value===t);return e?e.name:"undefined"}},mixins:[T],props:{hash:String,isActive:Boolean},data(){return{opened:null,selected:[],treeData:null,priority_options:Y,mdiFolderOpen:Ge,mdiFolder:Ue,mdiFile:ze,mdiTrendingUp:qe,mdiPencil:Ze,mdiContentSave:Qe,mdiClose:le}},computed:{fileTree(){return this.treeData?Ye(this.treeData):[]}},watch:{isActive(t){t&&this.getTorrentFiles()},selected(t,e){this.changeFilePriorities(t,e)}},created(){this.initFiles()},methods:{initFiles(){this.getTorrentFiles().then(()=>{this.opened=[].concat(...this.treeData.map(t=>t.name.split("/")).filter(t=>t.splice(-1,1))).filter((t,e,s)=>e===s.indexOf(t)),this.selected=this.treeData.filter(t=>t.priority!==0).map(t=>t.name)})},async getTorrentFiles(){const{data:t}=await u.getTorrentFiles(this.hash);t.forEach((e,s)=>{e.id=s,e.name=e.name.replace(".unwanted/","")}),this.treeData=t},async changeFilePriorities(t,e){if(t.length==e.length)return;const s=e.filter(n=>!t.includes(n)).map(n=>this.treeData.find(a=>a.name===n)).filter(n=>n.priority!==0).map(n=>n.id),i=t.filter(n=>!e.includes(n)).map(n=>this.treeData.find(a=>a.name===n)).filter(n=>n.priority===0).map(n=>n.id);s.length&&await u.setTorrentFilePriority(this.hash,s,0),i.length&&await u.setTorrentFilePriority(this.hash,i,1),(s.length||i.length)&&await this.getTorrentFiles()},togleEditing(t){t.editing=!t.editing},edit(t){t.newName=t.name,this.togleEditing(t)},renameFile(t){u.renameFile(this.hash,t.name,t.newName),t.name=t.newName,this.togleEditing(t)},renameFolder(t){u.renameFolder(this.hash,t.name,t.newName),t.name=t.newName,this.togleEditing(t)},setFilePrio(t,e){u.setTorrentFilePriority(this.hash,[t],e).then(()=>this.initFiles())}}};var kt=function(){var e=this,s=e._self._c;return s(y,{attrs:{flat:""}},[s(Pt,{attrs:{items:e.fileTree,open:e.opened,activatable:"",selectable:"","item-key":"fullName","open-all":""},on:{"update:open":function(i){e.opened=i}},scopedSlots:e._u([{key:"prepend",fn:function({item:i,open:n}){return[i.icon?s(h,[e._v(" "+e._s(i.icon)+" ")]):s(h,[e._v(" "+e._s(e.mdiFolderOpen)+" ")])]}},{key:"label",fn:function({item:i}){return[i.editing?e._e():s("span",[e._v(e._s(i.name))]),i.editing?s(Je,{attrs:{autofocus:""},model:{value:i.newName,callback:function(n){e.$set(i,"newName",n)},expression:"item.newName"}}):e._e()]}},e.$vuetify.breakpoint.smAndDown?null:{key:"append",fn:function({item:i}){return[i.icon?s("div",[s("span",[e._v("["+e._s(i.size)+"]")]),s("span",{staticClass:"ml-4"},[e._v(e._s(i.progress)+"%")]),s("span",{staticClass:"ml-4"},[e._v("[ "+e._s(e._f("priority")(i.priority))+" ]")]),s(Xe,{attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[s(m,e._g({staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""}},n),[s(h,[e._v(e._s(e.mdiTrendingUp))])],1)]}}],null,!0)},[s(et,e._l(e.priority_options,function(n){return s(D,{key:n.value,attrs:{link:""},on:{click:function(a){return e.setFilePrio(i.id,n.value)}}},[s(h,[e._v(e._s(n.icon))]),s(A,{staticClass:"caption"},[e._v(" "+e._s(n.name)+" ")])],1)}),1)],1),i.editing?e._e():s(m,{staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(n){return e.edit(i)}}},[s(h,[e._v(e._s(e.mdiPencil))])],1),i.editing?s(m,{staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(n){return e.renameFile(i)}}},[s(h,[e._v(e._s(e.mdiContentSave))])],1):e._e(),i.editing?s(m,{staticClass:"error white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(n){return e.togleEditing(i)}}},[s(h,[e._v(e._s(e.mdiClose))])],1):e._e()],1):s("div",[s("span",{staticClass:"ml-4"},[e._v(e._s(i.children.length)+" Files")]),i.editing?e._e():s(m,{staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(n){return e.edit(i)}}},[s(h,[e._v(e._s(e.mdiPencil))])],1),i.editing?s(m,{staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(n){return e.renameFolder(i)}}},[s(h,[e._v(e._s(e.mdiContentSave))])],1):e._e(),i.editing?s(m,{staticClass:"error white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(n){return e.togleEditing(i)}}},[s(h,[e._v(e._s(e.mdiClose))])],1):e._e()],1)]}}],null,!0),model:{value:e.selected,callback:function(i){e.selected=i},expression:"selected"}})],1)},Ot=[],Et=b(It,kt,Ot,!1,null,null,null,null);const fe=Et.exports;const Dt={name:"Trackers",filters:{formatTrackerStatus(t){return["Disabled","Not contacted","Working","Updating","Not working"][t]},formatTrackerNum(t){return t===-1?"N/A":t.toString()}},mixins:[T],props:{hash:String,isActive:Boolean},data:()=>({trackerDialog:!1,tempTrackers:[],newTrackers:"",selectedTrackers:[]}),computed:{trackers(){return this.tempTrackers.map(t=>({...t,isSelectable:typeof t.tier=="number"}))},headers(){return[{text:"#",value:"tier"},{text:this.$i18n.t("modals.detail.pageTrackers.url"),value:"url"},{text:this.$i18n.t("modals.detail.pageTrackers.status"),value:"status"},{text:this.$i18n.t("modals.detail.pageTrackers.peers"),value:"num_peers"},{text:this.$i18n.t("modals.detail.pageTrackers.seeds"),value:"num_seeds"},{text:this.$i18n.t("modals.detail.pageTrackers.leeches"),value:"num_leeches"},{text:this.$i18n.t("modals.detail.pageTrackers.downloaded"),value:"num_downloaded"},{text:this.$i18n.t("modals.detail.pageTrackers.message"),value:"msg"}]}},watch:{isActive(t){t&&this.getTorrentTrackers()}},created(){this.getTorrentTrackers()},methods:{async getTorrentTrackers(){const{data:t}=await u.getTorrentTrackers(this.hash);this.tempTrackers=t},async addTrackers(){if(!this.newTrackers.length)return this.trackerDialog=!1;u.addTorrenTrackers(this.hash,this.newTrackers),this.newTrackers="",await this.getTorrentTrackers(),this.trackerDialog=!1},closeAddTrackers(){this.newTrackers="",this.trackerDialog=!1},async DeleteTrackers(){!this.selectedTrackers.length||(u.removeTorrentTrackers(this.hash,this.selectedTrackers.map(t=>t.url)),this.selectedTrackers=[],await this.getTorrentTrackers())}}};var At=function(){var e=this,s=e._self._c;return s(y,{attrs:{flat:""}},[s(B,{staticClass:"pa-0"},[e.trackers?s(pe,{attrs:{dense:"","show-select":"",headers:e.headers,items:e.trackers,"items-per-page":-1,"item-key":"url","mobile-breakpoint":"0"},scopedSlots:e._u([{key:"body",fn:function({items:i}){return[s("tbody",e._l(i,function(n){return s("tr",{key:n.url},[s("td",[typeof n.tier=="number"?s(pt,{staticClass:"pa-0 ma-0",attrs:{value:n,"hide-details":"",color:"accent"},model:{value:e.selectedTrackers,callback:function(a){e.selectedTrackers=a},expression:"selectedTrackers"}}):e._e()],1),s("td",[e._v(e._s(n.tier))]),s("td",[e._v(e._s(n.url))]),s("td",[e._v(e._s(e._f("formatTrackerStatus")(n.status)))]),s("td",[e._v(e._s(e._f("formatTrackerNum")(n.num_peers)))]),s("td",[e._v(e._s(e._f("formatTrackerNum")(n.num_seeds)))]),s("td",[e._v(e._s(e._f("formatTrackerNum")(n.num_leeches)))]),s("td",[e._v(e._s(e._f("formatTrackerNum")(n.num_downloaded)))]),s("td",[e._v(e._s(n.msg))])])}),0)]}}],null,!1,2880887245),model:{value:e.selectedTrackers,callback:function(i){e.selectedTrackers=i},expression:"selectedTrackers"}}):e._e()],1),s(F,{staticClass:"justify-center"},[s(m,{staticClass:"error white--text elevation-0 px-4 mx-2",on:{click:e.DeleteTrackers}},[e._v(" Delete ")]),s(mt,{attrs:{"content-class":"rounded-form",persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:n}){return[s(m,e._g(e._b({staticClass:"accent white--text elevation-0 px-4 mx-2"},"v-btn",n,!1),i),[e._v(" Add ")])]}}]),model:{value:e.trackerDialog,callback:function(i){e.trackerDialog=i},expression:"trackerDialog"}},[s(y,[s(at,{staticClass:"justify-center"},[s("h3",[e._v("Add Trackers")])]),s(B,[s(ye,{attrs:{label:"Trackers",rows:"1",required:"",autofocus:"","auto-grow":"",clearable:"",hint:"One link per line"},model:{value:e.newTrackers,callback:function(i){e.newTrackers=i},expression:"newTrackers"}})],1),s(F,[s(rt),s(m,{attrs:{color:"red darken-1",text:""},on:{click:e.closeAddTrackers}},[e._v(" Cancel ")]),s(m,{attrs:{color:"green darken-1",text:""},on:{click:e.addTrackers}},[e._v(" Add ")])],1)],1)],1)],1)],1)},Bt=[],Ft=b(Dt,At,Bt,!1,null,"85796fea",null,null);const _e=Ft.exports;const Lt={name:"Info",mixins:[T],props:{hash:String,torrent:Object},data(){return{commonStyle:"caption",createdBy:null,comment:null}},mounted(){this.getTorrentProperties(),this.renderTorrentPieceStates()},methods:{async getTorrentProperties(){const t=await u.getTorrentProperties(this.hash);this.createdBy=t.created_by||null,this.comment=t.comment||null},async renderTorrentPieceStates(){const t=document.querySelector("#pieceStates canvas"),{data:e}=await u.getTorrentPieceStates(this.hash);if(e){t.width=e.length;const s=t.getContext("2d");s.clearRect(0,0,t.width,t.height);let i="",n=1;for(let a=0;a<e.length;++a){const r=e[a];let o="";if(r===1?o=this.$vuetify.theme.currentTheme["torrent-downloading"]:r===2&&(o=this.$vuetify.theme.currentTheme["torrent-done"]),o===i){++n;continue}i!==""&&(s.fillStyle=i,s.fillRect(a-n,0,n,t.height)),n=1,i=o}i!==""&&(s.fillStyle=i,s.fillRect(e.length-n,0,n,t.height))}},stringContainsUrl(t){return ot(t)},splitString(t){return lt(t)}}};var Nt=function(){var e=this,s=e._self._c;return s(y,{attrs:{flat:""}},[s(he,[s("tbody",[s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.torrentTitle"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.name)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.pieceStates"))+" ")]),s("td",{staticClass:"d-flex",attrs:{id:"pieceStates"}},[s("span",{staticClass:"mr-2 align-center d-flex"},[e._v(" "+e._s(e.torrent.progress)+"% ")]),s("canvas",{attrs:{width:"0",height:"1"}})])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.directory")))+" ")]),s("td",[e._v(" "+e._s(e.torrent.savePath)+" ")])]),s("tr",{staticStyle:{"margin-top":"10px !important"}},[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.hash"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.hash)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.size")))+" ")]),s("td",[e._v(" "+e._s(e._f("getDataValue")(e.torrent.size))+" "+e._s(e._f("getDataUnit")(e.torrent.size,1))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.timeActive")))+" ")]),s("td",[e._v(" "+e._s(e.torrent.time_active)+" "),e.torrent.seeding_time?s("span",[e._v(e._s(`(${e.$t("torrent.seededFor")} ${e.torrent.seeding_time})`))]):e._e()])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.downloaded")))+" ")]),s("td",[e._v(" "+e._s(e._f("getDataValue")(e.torrent.dloaded))+" "+e._s(e._f("getDataUnit")(e.torrent.dloaded,1))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.uploaded")))+" ")]),s("td",[e._v(" "+e._s(e._f("getDataValue")(e.torrent.uploaded))+" "+e._s(e._f("getDataUnit")(e.torrent.uploaded,1))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.ratio"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.ratio)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.downloadSpeed"))+" ")]),s("td",[e._v(" "+e._s(e._f("getDataValue")(e.torrent.dlspeed))+" "+e._s(e._f("getDataUnit")(e.torrent.dlspeed,1))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.uploadSpeed"))+" ")]),s("td",[e._v(" "+e._s(e._f("getDataValue")(e.torrent.upspeed))+" "+e._s(e._f("getDataUnit")(e.torrent.upspeed,1))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.eta"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.eta)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.peers"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.num_leechs)),s("span",{class:e.commonStyle},[e._v("/"+e._s(e.torrent.available_peers))])])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.seeds"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.num_seeds)),s("span",{class:e.commonStyle},[e._v("/"+e._s(e.torrent.available_seeds))])])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.added")))+" ")]),s("td",[e._v(" "+e._s(e.torrent.added_on)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.status"))+" ")]),s("td",[s(re,{class:`${e.torrent.state.toLowerCase()} white--text caption`,attrs:{small:""}},[e._v(" "+e._s(e.torrent.state)+" ")])],1)]),e.torrent.tracker?s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.trackers"))+" ")]),s("td",e._l(e.splitString(e.torrent.tracker),function(i){return s("span",{key:i},[e.stringContainsUrl(i)?s("a",{attrs:{_target:"blank",href:i}},[e._v(e._s(i))]):s("span",[e._v(e._s(i))])])}),0)]):e._e(),e.createdBy?s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.createdBy"))+" ")]),s("td",e._l(e.splitString(e.createdBy),function(i){return s("span",{key:i},[e.stringContainsUrl(i)?s("a",{attrs:{_target:"blank",href:i}},[e._v(e._s(i))]):s("span",[e._v(e._s(i))])])}),0)]):e._e(),e.comment?s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.comments")))+" ")]),s("td",e._l(e.splitString(e.comment),function(i){return s("span",{key:i},[e.stringContainsUrl(i)?s("a",{attrs:{_target:"blank",href:i}},[e._v(e._s(i))]):s("span",[e._v(e._s(i))])])}),0)]):e._e(),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.firstLastPiecePriority"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.f_l_piece_prio)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.sequentialDownload"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.seq_dl)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.autoTMM"))+" ")]),s("td",[e._v(" "+e._s(e.torrent.auto_tmm)+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.shareRatioLimit"))+" ")]),s("td",[e._v(" "+e._s(e._f("limitToValue")(e.torrent.ratio_limit))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.shareTimeLimit"))+" ")]),s("td",[e._v(" "+e._s(e._f("limitToValue")(e.torrent.ratio_time_limit))+" ")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.downloadLimit"))+" ")]),e.torrent.dl_limit>0?s("td",[e._v(e._s(e._f("getDataValue")(e.torrent.dl_limit))+" "+e._s(e._f("getDataUnit")(e.torrent.dl_limit))),s("span",[e._v("/s ")])]):s("td",[e._v("\u221E")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.uploadLimit"))+" ")]),e.torrent.up_limit>0?s("td",[e._v(e._s(e._f("getDataValue")(e.torrent.up_limit))+" "+e._s(e._f("getDataUnit")(e.torrent.up_limit))),s("span",[e._v("/s ")])]):s("td",[e._v("\u221E")])]),s("tr",[s("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.availability")))+" ")]),s("td",[e._v(" "+e._s(e.torrent.availability)+" ")])])])])],1)},Mt=[],Kt=b(Lt,Nt,Mt,!1,null,"97153568",null,null);const ve=Kt.exports;const jt={name:"DetailPeers",mixins:[T],props:{hash:String,isActive:Boolean},data:()=>({refreshTimer:"",peersObj:null}),computed:{rid:{get(){return this.$store.state.rid},set(t){this.$store.state.rid=t}},peers(){return V.exports.map(this.peersObj,(t,e)=>V.exports.merge({},t,{key:e}))},headers(){return[{text:this.$i18n.t("modals.detail.pagePeers.ip"),value:"ip"},{text:this.$i18n.t("modals.detail.pagePeers.connection"),value:"connection"},{text:this.$i18n.t("modals.detail.pagePeers.flags"),value:"flags"},{text:this.$i18n.t("modals.detail.pagePeers.client"),value:"client"},{text:this.$i18n.t("modals.detail.pagePeers.progress"),value:"progress"},{text:this.$i18n.t("modals.detail.pagePeers.downloadSpeed"),value:"dl_speed"},{text:this.$i18n.t("modals.detail.pagePeers.downloaded"),value:"downloaded"},{text:this.$i18n.t("modals.detail.pagePeers.upSpeed"),value:"up_speed"},{text:this.$i18n.t("modals.detail.pagePeers.uploaded"),value:"uploaded"},{text:this.$i18n.t("modals.detail.pagePeers.relevance"),value:"relevance"},{text:this.$i18n.t("modals.detail.pagePeers.files"),value:"files"}]}},watch:{isActive(t){t&&this.getTorrentPeers()}},created(){this.getTorrentPeers(),this.refreshTimer=setInterval(function(){this.getTorrentPeers()}.bind(this),2e3)},beforeDestroy(){clearTimeout(this.refreshTimer)},methods:{codeToFlag(t){return dt(t)},isWindows(){return ct()},async getTorrentPeers(){const{data:t}=await u.getTorrentPeers(this.hash,this.rid+1||void 0);this.rid=t.rid,this.peersObj=t.peers}}};var Ht=function(){var e=this,s=e._self._c;return s(y,{attrs:{flat:""}},[e.peers?s(pe,{attrs:{dense:"",headers:e.headers,items:e.peers,"items-per-page":-1,"hide-default-footer":!0,"mobile-breakpoint":"0"},scopedSlots:e._u([{key:"item",fn:function(i){return[s("tr",[s("td",{staticClass:"ip"},[i.item.country_code?[e.isWindows?s("img",{staticClass:"country-flag",attrs:{title:i.item.country,alt:e.codeToFlag(i.item.country_code).char,src:e.codeToFlag(i.item.country_code).url}}):[e._v(" "+e._s(e.codeToFlag(i.item.country_code).char)+" ")]]:e._e(),e._v(" "+e._s(i.item.ip)+" "),s("span",{staticClass:"grey--text"},[e._v(":"+e._s(i.item.port))])],2),s("td",[e._v(e._s(i.item.connection))]),s("td",{attrs:{title:i.item.flags_desc}},[e._v(" "+e._s(i.item.flags)+" ")]),s("td",[e._v(e._s(i.item.client))]),s("td",[e._v(e._s(e._f("progress")(i.item.progress)))]),s("td",[e._v(e._s(e._f("networkSpeed")(i.item.dl_speed)))]),s("td",[e._v(e._s(e._f("networkSize")(i.item.downloaded)))]),s("td",[e._v(e._s(e._f("networkSpeed")(i.item.up_speed)))]),s("td",[e._v(e._s(e._f("networkSize")(i.item.uploaded)))]),s("td",[e._v(e._s(e._f("progress")(i.item.relevance)))]),s("td",[e._v(e._s(i.item.files))])])]}}],null,!1,1377702202)}):e._e()],1)},Rt=[],Vt=b(jt,Ht,Rt,!1,null,"e67fb187",null,null);const Wt=Vt.exports;const Gt={name:"TorrentTagsAndCategories",mixins:[T],props:{hash:String,torrent:Object},data:()=>({categories:[]}),computed:{...de(["getAvailableTags","getCategories"]),availableTags(){return this.getAvailableTags()},availableCategories(){return this.getCategories()},activeCategory(){return this.availableCategories.map(t=>t.name).indexOf(this.torrent.category)},activeTags(){const t=[],e=this.torrent.tags;return e&&e.length&&e.forEach(s=>{const i=this.availableTags.indexOf(s);i!==-1&&t.push(i)}),t}},created(){this.$store.commit("FETCH_CATEGORIES")},methods:{addTag(t){if(this.activeTags.includes(this.availableTags.indexOf(t)))return this.deleteTag(t);u.addTorrentTag(this.hash,t)},deleteTag(t){u.removeTorrentTag(this.hash,t)},setCategory(t){if(this.torrent.category===t.name)return u.setCategory([this.hash],"");u.setCategory([this.hash],t.name)},deleteCategory(){u.setCategory([this.hash],"")}}};var Ut=function(){var e=this,s=e._self._c;return s(y,{attrs:{flat:""}},[s(L,{staticClass:"ma-0 pa-0",attrs:{dense:""}},[s(k,{attrs:{cols:"12",md:"6"}},[s(W,[e._v(e._s(e.$t("modals.detail.pageTagsAndCategories.subHeaderTag")))]),s(z,{attrs:{value:e.activeTags,"active-class":"accent--text",multiple:""}},[e._l(e.availableTags,function(i,n){return[s(D,{key:i.title,on:{click:function(a){return e.addTag(i)}}},[s(G,[s(A,{domProps:{textContent:e._s(i)}})],1)],1),n<e.availableTags.length-1?s(U,{key:n}):e._e()]})],2)],1),s(k,{attrs:{cols:"12",md:"6"}},[s(W,[e._v(e._s(e.$t("modals.detail.pageTagsAndCategories.subHeaderCategories")))]),s(z,{attrs:{value:e.activeCategory,"active-class":"accent--text"}},[e._l(e.availableCategories,function(i,n){return[s(D,{key:i.title,on:{click:function(a){return e.setCategory(i)}}},[s(G,[s(A,{domProps:{textContent:e._s(i.name)}})],1)],1),n<e.availableCategories.length-1?s(U,{key:n}):e._e()]})],2)],1)],1)],1)},zt=[],qt=b(Gt,Ut,zt,!1,null,"ddbae742",null,null);const Zt=qt.exports,Qt={name:"TorrentDetail",components:{Content:fe,Info:ve,Peers:Wt,Trackers:_e,TagsAndCategories:Zt},data(){return{tab:null,items:[{tab:"Info"},{tab:"Content"}],peers:[],mdiClose:le}},computed:{...de(["getTorrent"]),torrent(){return this.getTorrent(this.hash)},hash(){return this.$route.params.hash}},created(){this.$store.dispatch("INIT_INTERVALS")},destroyed(){this.$store.commit("REMOVE_INTERVALS")},methods:{close(){this.$router.back()}}};var Yt=function(){var e=this,s=e._self._c;return s("div",{staticClass:"px-1 px-sm-5 background noselect"},[s(L,{staticClass:"grey--text",attrs:{"no-gutters":"",align:"center",justify:"center"}},[s(k,[s("h1",{staticClass:"subtitle-1 ml-2",staticStyle:{"font-size":"1.6em !important"}},[e._v(" "+e._s(e._f("titleCase")(e.$t("modals.detail.title")))+" ")])]),s(k,{staticClass:"align-center justify-center"},[s(F,{staticClass:"justify-end"},[s(m,{attrs:{small:"",elevation:"0"},on:{click:e.close}},[s(h,[e._v(e._s(e.mdiClose))])],1)],1)],1)],1),s(L,{staticClass:"ma-0 pa-0"},[s(be,{attrs:{"align-with-title":"","show-arrows":"","background-color":"primary"},model:{value:e.tab,callback:function(i){e.tab=i},expression:"tab"}},[s(Se,{attrs:{color:"white"}}),s(x,{staticClass:"white--text",attrs:{href:"#info"}},[s("h4",[e._v(e._s(e.$t("modals.detail.tabTitleInfo")))])]),s(x,{staticClass:"white--text",attrs:{href:"#trackers"}},[s("h4",[e._v(e._s(e.$t("modals.detail.tabTitleTrackers")))])]),s(x,{staticClass:"white--text",attrs:{href:"#peers"}},[s("h4",[e._v(e._s(e.$t("modals.detail.tabTitlePeers")))])]),s(x,{staticClass:"white--text",attrs:{href:"#content"}},[s("h4",[e._v(e._s(e.$t("modals.detail.tabTitleContent")))])]),s(x,{staticClass:"white--text",attrs:{href:"#tagsAndCategories"}},[s("h4",[e._v(e._s(e.$t("modals.detail.tabTitleTagsCategories")))])])],1),s(B,{staticClass:"pa-0"},[s($e,{attrs:{touchless:""},model:{value:e.tab,callback:function(i){e.tab=i},expression:"tab"}},[s(C,{attrs:{eager:"",value:"info"}},[e.torrent?s(ve,{attrs:{torrent:e.torrent,hash:e.hash}}):e._e()],1),s(C,{attrs:{eager:"",value:"trackers"}},[s(_e,{attrs:{"is-active":e.tab==="trackers",hash:e.hash}})],1),s(C,{attrs:{eager:"",value:"peers"}},[s(ht,{attrs:{"is-active":e.tab==="peers",hash:e.hash}})],1),s(C,{attrs:{eager:"",value:"content"}},[s(fe,{attrs:{"is-active":e.tab==="content",hash:e.hash}})],1),s(C,{attrs:{eager:"",value:"tagsAndCategories"}},[e.torrent?s(xe,{attrs:{torrent:e.torrent,"is-active":e.tab==="tagsAndCategories",hash:e.hash}}):e._e()],1)],1)],1)],1)],1)},Jt=[],Xt=b(Qt,Yt,Jt,!1,null,null,null,null);const as=Xt.exports;export{as as default};
